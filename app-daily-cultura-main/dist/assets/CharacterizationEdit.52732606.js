import{d as N,s as h,b as w,D as O,E as P,N as j,v as D,f as u,g as m,h as a,i as d,l as e,n as b,y as A,k as p,ad as R,F as z,t as T,u as I,q as M,O as G,Q}from"./index.c93647e1.js";import{u as H}from"./index.esm.8471a966.js";import{P as J}from"./poll.4b3256d4.js";import{_ as r}from"./Input.d2784565.js";import{_ as s}from"./Select.7b4ad9bd.js";import{_ as v}from"./Radio.33857de6.js";import{_ as K}from"./BaseBackButton.438a649f.js";import{p as L}from"./polls.service.45c2397b.js";import"./validations.9fff8c5b.js";import"./index.esm.c98934a4.js";const W={class:"intro-y flex justify-between items-start md:items-end mt-5"},X={class:"intro-y flex flex-col items-start gap-1"},Y=a("h2",{class:"text-lg font-medium mr-auto"},T("Edici\xF3n de Encuesta"),-1),Z=["onSubmit"],ee={class:"intro-y box p-5 mt-5"},le={class:"globaltransition"},oe={class:"mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},te={class:"grid grid-cols-2 gap-3 justify-evenly"},ae={key:0,class:"intro-x grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-4"},ie={class:"intro-x grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-4 intro-y"},de={key:1,class:"intro-x grid grid-cols-1"},se={key:2,class:"intro-x grid grid-cols-1"},ne={key:3,class:"intro-x grid grid-cols-1"},re={key:4,class:"intro-x grid grid-cols-1"},ue={key:5,class:"intro-x"},me={key:6,class:"intro-x grid grid-cols-1"},pe={key:7,class:"intro-x grid grid-cols-1"},ce=a("button",{type:"submit",class:"btn btn-primary w-24"},"Actualizar",-1),Se=N({__name:"CharacterizationEdit",setup(ve){const V=J(),g=L(),{form:l,form_rules_computed:f,form_options:c}=h(V),U=w(),{options:n}=h(U),i=H(f,l,{$autoDirty:!0}),F=I(),x=M(),q=async()=>g.getOne(x.params.id).then(()=>{V.fillInputs(g.data.one)});O(async()=>{V.$reset(),i.value.$validate(),await q().catch(()=>{P.not_found_by_id()})}),j(l.value,()=>{l.value.victim_armed_conflict==="0"&&(l.value.single_registry_victims=null),l.value.study==="0"&&(l.value.educational_level=null),l.value.neighborhood_id!="357"&&(l.value.other_neighborhoods=null)});const S=async()=>{await i.value.$validate()?g.update(x.params.id,l.value).then(o=>{o.data.items&&(V.$reset(),i.value.$validate())}):Q.validation()},B=D(()=>{const _=G(),o=_.month()+1,t=_.date(),k=_.year()-18,C=()=>o<10?`0${o}`:o,y=()=>t>2?t-1:t,$=()=>y()<10?`0${y()}`:y();return`${k}-${C()}-${$()}`}),E=()=>{F.push({name:"polls.index"})};return(_,o)=>(u(),m(z,null,[a("div",W,[a("div",X,[d(K),Y])]),a("form",{onSubmit:R(S,["prevent"])},[a("div",ee,[a("div",le,[a("div",oe,[a("div",null,[d(s,{label:"Genero *",tooltip:"",placeholder:"Seleccione",name:"gender",modelValue:e(l).gender,"onUpdate:modelValue":o[0]||(o[0]=t=>e(l).gender=t),value:e(l).gender,options:e(n).genders,validator:e(i),required:""},null,8,["modelValue","value","options","validator"])]),a("div",te,[a("div",null,[d(r,{type:"date",label:"Fecha de nacimiento *",tooltip:"Fecha de nacimiento *",placeholder:"",name:"birth_date",modelValue:e(l).birth_date,"onUpdate:modelValue":o[1]||(o[1]=t=>e(l).birth_date=t),max:e(B),validator:e(i)},null,8,["modelValue","max","validator"])]),a("div",null,[d(r,{type:"number",min:"0",label:"Edad",tooltip:"",placeholder:"",name:"age",modelValue:e(l).age,"onUpdate:modelValue":o[2]||(o[2]=t=>e(l).age=t),validator:e(i),disabled:""},null,8,["modelValue","validator"])])]),a("div",null,[d(s,{label:"Estado civil *",tooltip:"",placeholder:"Seleccione",name:"marital_state",modelValue:e(l).marital_state,"onUpdate:modelValue":o[3]||(o[3]=t=>e(l).marital_state=t),options:e(n).marital_status,validator:e(i),required:""},null,8,["modelValue","options","validator"])]),a("div",null,[d(s,{label:"Estrato *",tooltip:"Estrato *",placeholder:"Seleccione",name:"stratum",modelValue:e(l).stratum,"onUpdate:modelValue":o[4]||(o[4]=t=>e(l).stratum=t),options:e(n).stratums,validator:e(i),required:""},null,8,["modelValue","options","validator"])]),a("div",{class:b(e(l).neighborhood_id=="357"?"grid grid-flow-dense grid-cols-3":"")},[d(s,{class:b(e(l).neighborhood_id=="357"?"col-span-1 mr-4":""),label:"Barrio *",tooltip:"Barrio *",placeholder:"Seleccione",name:"neighborhood_id",modelValue:e(l).neighborhood_id,"onUpdate:modelValue":o[5]||(o[5]=t=>e(l).neighborhood_id=t),options:e(n).neighborhoods,validator:e(i)},null,8,["class","modelValue","options","validator"]),e(l).neighborhood_id=="357"?(u(),A(r,{key:0,type:"text",label:"Otro \xBFCual?",class:b(e(l).neighborhood_id=="357"?"col-span-2":""),tooltip:"Otro \xBFCual?",placeholder:"",name:"other_neighborhoods",modelValue:e(l).other_neighborhoods,"onUpdate:modelValue":o[6]||(o[6]=t=>e(l).other_neighborhoods=t),validator:e(i)},null,8,["class","modelValue","validator"])):p("",!0)],2),a("div",null,[d(r,{type:"text",label:"Numero de tel\xE9fono",tooltip:"Numero de tel\xE9fono",placeholder:"",name:"phone",modelValue:e(l).phone,"onUpdate:modelValue":o[7]||(o[7]=t=>e(l).phone=t),validator:e(i)},null,8,["modelValue","validator"])]),a("div",null,[d(r,{type:"email",label:"Correo electr\xF3nico *",tooltip:"Correo electr\xF3nico",placeholder:"",name:"email",modelValue:e(l).email,"onUpdate:modelValue":o[8]||(o[8]=t=>e(l).email=t),validator:e(i)},null,8,["modelValue","validator"])]),a("div",null,[d(r,{type:"number",min:"0",max:"99",label:"Numero de hijos",tooltip:"Numero de hijos",placeholder:"",name:"number_children",modelValue:e(l).number_children,"onUpdate:modelValue":o[9]||(o[9]=t=>e(l).number_children=t),validator:e(i)},null,8,["modelValue","validator"])]),a("div",null,[d(r,{type:"number",min:"0",max:"99",label:"Personas a cargo",tooltip:"Personas a cargo",placeholder:"",name:"dependents",modelValue:e(l).dependents,"onUpdate:modelValue":o[10]||(o[10]=t=>e(l).dependents=t),validator:e(i)},null,8,["modelValue","validator"])]),a("div",null,[d(s,{label:"Parentesco con jefe de hogar",tooltip:"",placeholder:"Seleccione",name:"relationship_head_household",modelValue:e(l).relationship_head_household,"onUpdate:modelValue":o[11]||(o[11]=t=>e(l).relationship_head_household=t),options:e(n).relationship_households,validator:e(i),required:""},null,8,["modelValue","options","validator"])]),a("div",null,[d(s,{label:"\xBFCon qu\xE9 tipo de etnia se representa?",tooltip:"",placeholder:"Seleccione",name:"ethnicity",modelValue:e(l).ethnicity,"onUpdate:modelValue":o[12]||(o[12]=t=>e(l).ethnicity=t),options:e(n).ethnicities,validator:e(i),required:""},null,8,["modelValue","options","validator"])]),a("div",null,[d(v,{label:"\xBFV\xEDctima de conflicto armado?",tooltip:"",name:"victim_armed_conflict",modelValue:e(l).victim_armed_conflict,"onUpdate:modelValue":o[13]||(o[13]=t=>e(l).victim_armed_conflict=t),options:e(c).victim_armed_conflict,validator:e(i),required:""},null,8,["modelValue","options","validator"])]),e(l).victim_armed_conflict==="1"?(u(),m("div",ae,[d(s,{label:"Registro \xFAnico de v\xEDctimas",tooltip:"",placeholder:"Seleccione",name:"single_registry_victims",modelValue:e(l).single_registry_victims,"onUpdate:modelValue":o[14]||(o[14]=t=>e(l).single_registry_victims=t),options:e(n).single_registry_victims,validator:e(i)},null,8,["modelValue","options","validator"])])):p("",!0),a("div",ie,[d(s,{label:"Nivel educativo alcanzado",placeholder:"Seleccione",tooltip:"",name:"educational_level",modelValue:e(l).educational_level,"onUpdate:modelValue":o[15]||(o[15]=t=>e(l).educational_level=t),options:e(n).educational_levels,validator:e(i)},null,8,["modelValue","options","validator"])]),a("div",null,[d(v,{label:"\xBFEstudia actualmente?",tooltip:"",name:"study",modelValue:e(l).study,"onUpdate:modelValue":o[16]||(o[16]=t=>e(l).study=t),options:e(c).study,validator:e(i),required:""},null,8,["modelValue","options","validator"])]),a("div",null,[d(s,{label:"\xBFA que r\xE9gimen de salud colombiano pertenece?",placeholder:"Seleccione",tooltip:"",name:"medical_service",modelValue:e(l).medical_service,"onUpdate:modelValue":o[17]||(o[17]=t=>e(l).medical_service=t),options:e(n).medical_services,validator:e(i),required:""},null,8,["modelValue","options","validator"])]),a("div",null,[d(s,{label:"Nombre de EPS",placeholder:"Seleccione",tooltip:"",name:"entity_name_id",modelValue:e(l).entity_name_id,"onUpdate:modelValue":o[18]||(o[18]=t=>e(l).entity_name_id=t),options:e(n).entity_names,validator:e(i),required:""},null,8,["modelValue","options","validator"])]),a("div",null,[d(s,{label:"Estado de salud",placeholder:"Seleccione",tooltip:"",name:"health_condition",modelValue:e(l).health_condition,"onUpdate:modelValue":o[19]||(o[19]=t=>e(l).health_condition=t),options:e(n).health_conditions,validator:e(i),required:""},null,8,["modelValue","options","validator"])]),a("div",null,[d(v,{label:"\xBFToma medicamentos?",tooltip:"",name:"takes_medication",modelValue:e(l).takes_medication,"onUpdate:modelValue":o[20]||(o[20]=t=>e(l).takes_medication=t),options:e(c).takes_medication,validator:e(i),required:""},null,8,["modelValue","options","validator"])]),a("div",null,[d(v,{label:"\xBFPadece alguna enfermedad?",tooltip:"",name:"suffers_disease",modelValue:e(l).suffers_disease,"onUpdate:modelValue":o[21]||(o[21]=t=>e(l).suffers_disease=t),options:e(c).suffers_disease,validator:e(i),required:""},null,8,["modelValue","options","validator"])]),e(l).suffers_disease==="1"?(u(),m("div",de,[d(s,{label:"\xBFTipo de enfermedad?",placeholder:"Seleccione",tooltip:"",name:"type_disease",modelValue:e(l).type_disease,"onUpdate:modelValue":o[22]||(o[22]=t=>e(l).type_disease=t),options:e(n).disease_types,validator:e(i)},null,8,["modelValue","options","validator"])])):p("",!0),e(l).type_disease==="O"&&e(l).suffers_disease==="1"?(u(),m("div",se,[d(r,{type:"text",label:"Otro \xBFCual?",placeholder:"",name:"other_disease_type",modelValue:e(l).other_disease_type,"onUpdate:modelValue":o[23]||(o[23]=t=>e(l).other_disease_type=t),validator:e(i)},null,8,["modelValue","validator"])])):p("",!0),a("div",null,[d(v,{label:"\xBFPresenta alguna discapacidad?",tooltip:"",name:"disability",modelValue:e(l).disability,"onUpdate:modelValue":o[24]||(o[24]=t=>e(l).disability=t),options:e(c).disability,validator:e(i),required:""},null,8,["modelValue","options","validator"])]),e(l).disability==="1"?(u(),m("div",ne,[d(s,{label:"\xBFIndique la discapacidad que presenta?",placeholder:"Seleccione",tooltip:"",name:"disability_type",modelValue:e(l).disability_type,"onUpdate:modelValue":o[25]||(o[25]=t=>e(l).disability_type=t),options:e(n).disability_types,validator:e(i)},null,8,["modelValue","options","validator"])])):p("",!0),e(l).disability_type==="O"&&e(l).disability==="1"?(u(),m("div",re,[d(r,{type:"text",label:"Otro \xBFCual?",placeholder:"",name:"other_disability_type",modelValue:e(l).other_disability_type,"onUpdate:modelValue":o[26]||(o[26]=t=>e(l).other_disability_type=t),validator:e(i)},null,8,["modelValue","validator"])])):p("",!0),e(l).disability==="1"?(u(),m("div",ue,[d(v,{label:"\xBFDiscapacidad ha sido valorada?",tooltip:"",name:"receives_therapy",modelValue:e(l).receives_therapy,"onUpdate:modelValue":o[27]||(o[27]=t=>e(l).receives_therapy=t),options:e(c).receives_therapy,validator:e(i),required:""},null,8,["modelValue","options","validator"])])):p("",!0),a("div",null,[d(s,{label:"Arte en el que se desempe\xF1a",placeholder:"Seleccione",tooltip:"",name:"expertises",modelValue:e(l).expertises,"onUpdate:modelValue":o[28]||(o[28]=t=>e(l).expertises=t),options:e(n).expertises,validator:e(i),required:""},null,8,["modelValue","options","validator"])]),a("div",null,[d(s,{label:"Experiencia en el sector art\xEDstico (A\xF1os)",placeholder:"Seleccione",tooltip:"",name:"artistic_experience",modelValue:e(l).artistic_experience,"onUpdate:modelValue":o[29]||(o[29]=t=>e(l).artistic_experience=t),options:e(c).artistic_experience,validator:e(i),required:""},null,8,["modelValue","options","validator"])]),a("div",null,[d(v,{label:"\xBFPertenece a alg\xFAn grupo art\xEDstico?",tooltip:"",name:"artistic_group",modelValue:e(l).artistic_group,"onUpdate:modelValue":o[30]||(o[30]=t=>e(l).artistic_group=t),options:e(c).artistic_group,validator:e(i),required:""},null,8,["modelValue","options","validator"])]),e(l).artistic_group==="1"?(u(),m("div",me,[d(r,{type:"text",label:"Nombre del grupo",tooltip:"Nombre del grupo",placeholder:"",name:"artistic_group_name",modelValue:e(l).artistic_group_name,"onUpdate:modelValue":o[31]||(o[31]=t=>e(l).artistic_group_name=t),validator:e(i)},null,8,["modelValue","validator"])])):p("",!0),e(l).artistic_group==="1"?(u(),m("div",pe,[d(r,{type:"text",label:"Rol en el grupo",tooltip:"Rol en el grupo",placeholder:"",name:"role_artistic_group",modelValue:e(l).role_artistic_group,"onUpdate:modelValue":o[32]||(o[32]=t=>e(l).role_artistic_group=t),validator:e(i)},null,8,["modelValue","validator"])])):p("",!0)])])]),a("div",{class:"intro-y box p-5 mt-5"},[a("div",{class:"flex justify-center sm:flex-row items-center"},[a("div",{class:"flex justify-center sm:flex-row items-center gap-2"},[ce,a("button",{type:"button",onClick:E,class:"btn btn-danger bg-red-600 w-24"},"Cancelar")])])])],40,Z)],64))}});export{Se as default};
