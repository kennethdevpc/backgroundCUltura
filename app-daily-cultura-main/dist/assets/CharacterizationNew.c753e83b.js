import{d as T,s as $,b as I,r as G,N as E,D as M,v as h,f as d,g as n,h as a,i as s,n as _,l as e,y as Q,k as r,F as H,t as J,u as K,Q as f,O as B}from"./index.c93647e1.js";import{u as L}from"./index.esm.8471a966.js";import{P as W}from"./poll.4b3256d4.js";import{_ as p}from"./Input.d2784565.js";import{_ as u}from"./Select.7b4ad9bd.js";import{_ as b}from"./Radio.33857de6.js";import{_ as X}from"./BaseBackButton.438a649f.js";import{p as Y}from"./polls.service.45c2397b.js";import{s as Z}from"./scroll.6a87917e.js";import"./validations.9fff8c5b.js";import"./index.esm.c98934a4.js";const ee={class:"intro-y flex justify-between items-start md:items-end mt-5"},le={class:"intro-y flex flex-col items-start gap-1"},oe=a("h2",{class:"text-lg font-medium mr-auto"},J("Encuesta"),-1),te={class:"intro-y box p-5 mt-5 flex flex-col"},ae={class:"intro-x lg:text-center flex items-center lg:block flex-1 z-10"},ie=a("div",{class:"lg:w-32 font-medium text-base lg:mt-3 ml-3 lg:mx-auto"}," Datos generales ",-1),se={class:"intro-x lg:text-center flex items-center mt-5 lg:mt-0 lg:block flex-1 z-10"},de=a("div",{class:"lg:w-32 text-base lg:mt-3 ml-3 lg:mx-auto text-slate-600"}," Estado que pertenece ",-1),ne={class:"intro-x lg:text-center flex items-center mt-5 lg:mt-0 lg:block flex-1 z-10"},re=a("div",{class:"lg:w-32 text-base lg:mt-3 ml-3 lg:mx-auto text-slate-600"}," Grupos ",-1),ue={class:"intro-y box p-5 mt-5"},me={key:0,class:"globaltransition"},ce={class:"mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},pe={class:"grid grid-cols-2 gap-3 justify-evenly"},ve={key:0,class:"intro-y mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-4"},ge={class:"mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},_e={key:1,class:"globaltransition"},be={class:"mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},he={class:"w-full"},fe={key:0,class:"w-full intro-x"},ye={key:0,class:"intro-y mt-6 grid grid-cols-2"},xe={key:0,class:"intro-x ml-6"},Ve={key:1,class:"intro-y mt-6 grid grid-cols-2"},we={key:0,class:"intro-x ml-6"},ke={class:"grid grid-cols-3 mt-6"},Ue={key:2,class:"globaltransition"},Se={class:"mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-4"},Fe={key:0,class:"intro-x grid grid-cols-2"},$e={key:1,class:"intro-x grid grid-cols-2"},Ee={class:"intro-y box p-5 mt-5"},Be={key:0,class:"flex justify-center py-5 sm:flex-row items-center"},Ce={class:"flex justify-center gap-2"},De={key:1,class:"flex justify-center py-5 sm:flex-row items-center"},je={class:"flex justify-center gap-2"},Pe={class:"flex justify-center sm:flex-row items-center"},Ne={key:0,class:"flex justify-center sm:flex-row items-center gap-2"},Ke=T({__name:"CharacterizationNew",setup(Oe){const C=K(),y=W(),D=Y(),{form:l,form_rules_computed:x,form_options:g}=$(y),j=I(),{options:m}=$(j),i=L(x,l,{$autoDirty:!0,$lazy:!0}),c=G(1),U=()=>{c.value<3&&c.value++},S=()=>{c.value>0&&c.value--};E(l.value,()=>{l.value.victim_armed_conflict==="0"&&(l.value.single_registry_victims=null),l.value.study==="0"&&(l.value.educational_level=null),l.value.neighborhood_id!="357"&&(l.value.other_neighborhoods=null),l.value.artistic_group==="1"&&(x.value.artistic_group_name=null,x.value.role_artistic_group=null)});const P=async()=>{await i.value.$validate()?D.create(l.value).then(o=>{o.data.response&&(y.$reset(),i.value.$reset(),Z(),c.value=1,C.push({name:"polls.index",hash:"#after_created"}))}):f.validation()},V=async v=>{await i.value.$validate(),v==1&&(h(()=>l.value.gender!=""&&l.value.birth_date!=""&&l.value.age!=""&&l.value.marital_state!=""&&l.value.stratum!=""&&l.value.neighborhood_id!=""&&(l.value.neighborhood_id==""?l.value.other_neighborhoods!="":!0)&&l.value.phone!=""&&l.value.email!=""&&l.value.number_children!=""&&l.value.relationship_head_household!=""&&l.value.ethnicity!=""&&l.value.victim_armed_conflict!=""&&(l.value.victim_armed_conflict=="1"?l.value.single_registry_victims!="":!0)&&l.value.study!=""&&l.value.educational_level!="").value?(i.value.$reset(),U()):f.validation()),v==2&&(h(()=>l.value.medical_service!=""&&l.value.entity_name_id!=""&&l.value.health_condition!=""&&l.value.suffers_disease!=""&&(l.value.suffers_disease=="0"||(l.value.suffers_disease=="1"?l.value.type_disease!="":!0)&&l.value.type_disease!=""&&(l.value.type_disease=="O"?l.value.other_disease_type!="":!0))&&l.value.disability!=""&&(l.value.disability=="0"||(l.value.disability=="1"?l.value.disability_type!="":!0))&&l.value.takes_medication!=""&&l.value.assessed_disability!=""&&l.value.receives_therapy!="").value?(i.value.$reset(),U()):f.validation()),v==3&&(h(()=>l.value.expertises!=""&&l.value.artistic_experience!=""&&l.value.artistic_group!=""&&(l.value.artistic_group=="1"?l.value.artistic_group_name!="":!0)&&(l.value.artistic_group=="1"?l.value.role_artistic_group!="":!0)).value?(i.value.$reset(),P()):f.custom_validation("Por favor verifique que todos los campos est\xE9n llenos."))},N="relative before:hidden before:lg:block before:absolute before:rounded-full before:h-[3px] before:top-0 before:bottom-0 before:mt-4 before:bg-slate-100 before:dark:bg-darkmode-400 flex flex-col lg:flex-row justify-center";M(async()=>{y.$reset(),i.value.$reset()});const O=h(()=>{const v=B(),o=v.month()+1,t=v.date(),w=v.year()-18,F=()=>o<10?`0${o}`:o,k=()=>t>2?t-1:t,R=()=>k()<10?`0${k()}`:k();return`${w}-${F()}-${R()}`}),q=h(()=>l.value.birth_date);function A(v){const o=B(v),t=new Date(o.year(),o.month(),o.date()).getTime(),w=new Date().getTime()-t;return Math.floor(w/315576e5)}return E(q,()=>{l.value.age=A(l.value.birth_date).toString()}),(v,o)=>(d(),n(H,null,[a("div",ee,[a("div",le,[s(X),oe])]),a("div",te,[a("div",null,[a("div",{class:_(["before:w-[65%]",N])},[a("div",ae,[a("button",{class:_(e(c)==1?"inline-block rounded-full bg-blue-800 text-white leading-normal uppercase shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out w-9 h-9":"inline-block rounded-full bg-gray-200 text-white leading-normal uppercase shadow-md hover:bg-gray-700 hover:shadow-lg focus:bg-gray-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out w-9 h-9")}," 1 ",2),ie]),a("div",se,[a("button",{class:_(e(c)==2?"inline-block rounded-full bg-blue-800 text-white leading-normal uppercase shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out w-9 h-9":"inline-block rounded-full bg-gray-200 text-white leading-normal uppercase shadow-md hover:bg-gray-700 hover:shadow-lg focus:bg-gray-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out w-9 h-9")}," 2 ",2),de]),a("div",ne,[a("button",{class:_(e(c)==3?"inline-block rounded-full bg-blue-800 text-white leading-normal uppercase shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out w-9 h-9":"inline-block rounded-full bg-gray-200 text-white leading-normal uppercase shadow-md hover:bg-gray-700 hover:shadow-lg focus:bg-gray-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out w-9 h-9")}," 3 ",2),re])],2)])]),a("div",ue,[e(c)==1?(d(),n("div",me,[a("div",ce,[a("div",null,[s(u,{label:"Genero *",tooltip:"",placeholder:"Seleccione",name:"gender",modelValue:e(l).gender,"onUpdate:modelValue":o[0]||(o[0]=t=>e(l).gender=t),options:e(m).genders,validator:e(i)},null,8,["modelValue","options","validator"])]),a("div",pe,[a("div",null,[s(p,{type:"date",label:"Fecha de nacimiento *",tooltip:"Fecha de nacimiento *",placeholder:"",name:"birth_date",modelValue:e(l).birth_date,"onUpdate:modelValue":o[1]||(o[1]=t=>e(l).birth_date=t),max:e(O),validator:e(i)},null,8,["modelValue","max","validator"])]),a("div",null,[s(p,{type:"number",min:"0",label:"Edad",tooltip:"",placeholder:"",name:"age",modelValue:e(l).age,"onUpdate:modelValue":o[2]||(o[2]=t=>e(l).age=t),validator:e(i),disabled:""},null,8,["modelValue","validator"])])]),a("div",null,[s(u,{label:"Estado civil *",tooltip:"",placeholder:"Seleccione",name:"marital_state",modelValue:e(l).marital_state,"onUpdate:modelValue":o[3]||(o[3]=t=>e(l).marital_state=t),options:e(m).marital_status,validator:e(i)},null,8,["modelValue","options","validator"])]),a("div",null,[s(u,{label:"Estrato *",tooltip:"Estrato *",placeholder:"Seleccione",name:"stratum",modelValue:e(l).stratum,"onUpdate:modelValue":o[4]||(o[4]=t=>e(l).stratum=t),options:e(m).stratums,validator:e(i)},null,8,["modelValue","options","validator"])]),a("div",{class:_(e(l).neighborhood_id=="357"?"grid grid-flow-dense grid-cols-3":"")},[s(u,{class:_(e(l).neighborhood_id=="357"?"col-span-1 mr-4":""),label:"Barrio *",tooltip:"Barrio *",placeholder:"Seleccione",name:"neighborhood_id",modelValue:e(l).neighborhood_id,"onUpdate:modelValue":o[5]||(o[5]=t=>e(l).neighborhood_id=t),options:e(m).neighborhoods,validator:e(i)},null,8,["class","modelValue","options","validator"]),e(l).neighborhood_id=="357"?(d(),Q(p,{key:0,type:"text",label:"Otro \xBFCual?",class:_(e(l).neighborhood_id=="357"?"col-span-2":""),tooltip:"Otro \xBFCual?",placeholder:"",name:"other_neighborhoods",modelValue:e(l).other_neighborhoods,"onUpdate:modelValue":o[6]||(o[6]=t=>e(l).other_neighborhoods=t),validator:e(i)},null,8,["class","modelValue","validator"])):r("",!0)],2),a("div",null,[s(p,{type:"text",label:"Numero de tel\xE9fono",tooltip:"Numero de tel\xE9fono",placeholder:"",name:"phone",modelValue:e(l).phone,"onUpdate:modelValue":o[7]||(o[7]=t=>e(l).phone=t),validator:e(i)},null,8,["modelValue","validator"])]),a("div",null,[s(p,{type:"email",label:"Correo electr\xF3nico *",tooltip:"Correo electr\xF3nico",placeholder:"",name:"email",modelValue:e(l).email,"onUpdate:modelValue":o[8]||(o[8]=t=>e(l).email=t),validator:e(i)},null,8,["modelValue","validator"])]),a("div",null,[s(p,{type:"number",min:"0",max:"99",label:"Numero de hijos",tooltip:"Numero de hijos",placeholder:"",name:"number_children",modelValue:e(l).number_children,"onUpdate:modelValue":o[9]||(o[9]=t=>e(l).number_children=t),validator:e(i)},null,8,["modelValue","validator"])]),a("div",null,[s(p,{type:"number",min:"0",max:"99",label:"Personas a cargo",tooltip:"Personas a cargo",placeholder:"",name:"dependents",modelValue:e(l).dependents,"onUpdate:modelValue":o[10]||(o[10]=t=>e(l).dependents=t),validator:e(i)},null,8,["modelValue","validator"])]),a("div",null,[s(u,{label:"Parentesco con jefe de hogar",tooltip:"",placeholder:"Seleccione",name:"relationship_head_household",modelValue:e(l).relationship_head_household,"onUpdate:modelValue":o[11]||(o[11]=t=>e(l).relationship_head_household=t),options:e(m).relationship_households,validator:e(i)},null,8,["modelValue","options","validator"])]),a("div",null,[s(u,{label:"\xBFCon qu\xE9 tipo de etnia se representa?",tooltip:"",placeholder:"Seleccione",name:"ethnicity",modelValue:e(l).ethnicity,"onUpdate:modelValue":o[12]||(o[12]=t=>e(l).ethnicity=t),options:e(m).ethnicities,validator:e(i)},null,8,["modelValue","options","validator"])])]),s(b,{class:"mt-4",label:"\xBFV\xEDctima de conflicto armado?",tooltip:"",name:"victim_armed_conflict",modelValue:e(l).victim_armed_conflict,"onUpdate:modelValue":o[13]||(o[13]=t=>e(l).victim_armed_conflict=t),options:e(g).victim_armed_conflict,validator:e(i)},null,8,["modelValue","options","validator"]),e(l).victim_armed_conflict==="1"?(d(),n("div",ve,[s(u,{label:"Registro \xFAnico de v\xEDctimas",tooltip:"",placeholder:"Seleccione",name:"single_registry_victims",modelValue:e(l).single_registry_victims,"onUpdate:modelValue":o[14]||(o[14]=t=>e(l).single_registry_victims=t),options:e(m).single_registry_victims,validator:e(i)},null,8,["modelValue","options","validator"])])):r("",!0),a("div",ge,[a("div",null,[s(u,{label:"Nivel educativo alcanzado",placeholder:"Seleccione",tooltip:"",name:"educational_level",modelValue:e(l).educational_level,"onUpdate:modelValue":o[15]||(o[15]=t=>e(l).educational_level=t),options:e(m).educational_levels,validator:e(i)},null,8,["modelValue","options","validator"])]),a("div",null,[s(b,{label:"\xBFEstudia actualmente?",tooltip:"",name:"study",modelValue:e(l).study,"onUpdate:modelValue":o[16]||(o[16]=t=>e(l).study=t),options:e(g).study,validator:e(i)},null,8,["modelValue","options","validator"])])])])):r("",!0),e(c)==2?(d(),n("div",_e,[a("div",be,[a("div",null,[s(u,{label:"\xBFA que r\xE9gimen de salud colombiano pertenece?",placeholder:"Seleccione",tooltip:"",name:"medical_service",modelValue:e(l).medical_service,"onUpdate:modelValue":o[17]||(o[17]=t=>e(l).medical_service=t),options:e(m).medical_services,validator:e(i)},null,8,["modelValue","options","validator"])]),a("div",{class:_([e(l).entity_name_id=="16"?"grid-cols-2":"grid_cols-1","grid gap-3"])},[a("div",he,[s(u,{label:"EPS *",placeholder:"Seleccione",name:"entity_name_id",modelValue:e(l).entity_name_id,"onUpdate:modelValue":o[18]||(o[18]=t=>e(l).entity_name_id=t),options:e(m).entity_names||null,validator:e(i)},null,8,["modelValue","options","validator"])]),e(l).entity_name_id=="16"?(d(),n("div",fe,[s(p,{type:"text",label:"OTRO EPS *",tooltip:"Ingrese el otro EPS",placeholder:"EPS...",name:"other_entity_name",modelValue:e(l).other_entity_name,"onUpdate:modelValue":o[19]||(o[19]=t=>e(l).other_entity_name=t),validator:e(i)},null,8,["modelValue","validator"])])):r("",!0)],2),a("div",null,[s(u,{label:"Estado de salud",placeholder:"Seleccione",tooltip:"",name:"health_condition",modelValue:e(l).health_condition,"onUpdate:modelValue":o[20]||(o[20]=t=>e(l).health_condition=t),options:e(m).health_conditions,validator:e(i)},null,8,["modelValue","options","validator"])])]),a("div",null,[s(b,{class:"mt-6",label:"\xBFPadece alguna enfermedad?",tooltip:"",name:"suffers_disease",modelValue:e(l).suffers_disease,"onUpdate:modelValue":o[21]||(o[21]=t=>e(l).suffers_disease=t),options:e(g).suffers_disease,validator:e(i)},null,8,["modelValue","options","validator"])]),e(l).suffers_disease==="1"?(d(),n("div",ye,[s(u,{label:"\xBFTipo de enfermedad?",placeholder:"Seleccione",tooltip:"",name:"type_disease",modelValue:e(l).type_disease,"onUpdate:modelValue":o[22]||(o[22]=t=>e(l).type_disease=t),options:e(m).disease_types,validator:e(i)},null,8,["modelValue","options","validator"]),e(l).type_disease==="O"?(d(),n("div",xe,[s(p,{type:"text",label:"Otro \xBFCual?",placeholder:"",name:"other_disease_type",modelValue:e(l).other_disease_type,"onUpdate:modelValue":o[23]||(o[23]=t=>e(l).other_disease_type=t),validator:e(i)},null,8,["modelValue","validator"])])):r("",!0)])):r("",!0),s(b,{class:"mt-6",label:"\xBFPresenta alguna discapacidad?",tooltip:"",name:"disability",modelValue:e(l).disability,"onUpdate:modelValue":o[24]||(o[24]=t=>e(l).disability=t),options:e(g).disability,validator:e(i)},null,8,["modelValue","options","validator"]),e(l).disability==="1"?(d(),n("div",Ve,[s(u,{label:"\xBFIndique la discapacidad que presenta?",placeholder:"Seleccione",tooltip:"",name:"disability_type",modelValue:e(l).disability_type,"onUpdate:modelValue":o[25]||(o[25]=t=>e(l).disability_type=t),options:e(m).disability_types,validator:e(i)},null,8,["modelValue","options","validator"]),e(l).disability_type==="O"?(d(),n("div",we,[s(p,{type:"text",label:"Otro \xBFCual?",placeholder:"",name:"other_disability_type",modelValue:e(l).other_disability_type,"onUpdate:modelValue":o[26]||(o[26]=t=>e(l).other_disability_type=t),validator:e(i)},null,8,["modelValue","validator"])])):r("",!0)])):r("",!0),a("div",ke,[a("div",null,[s(b,{label:"\xBFToma medicamentos?",tooltip:"",name:"takes_medication",modelValue:e(l).takes_medication,"onUpdate:modelValue":o[27]||(o[27]=t=>e(l).takes_medication=t),options:e(g).takes_medication,validator:e(i)},null,8,["modelValue","options","validator"])]),a("div",null,[s(b,{label:"\xBFDiscapacidad ha sido valorada?",tooltip:"",name:"assessed_disability",modelValue:e(l).assessed_disability,"onUpdate:modelValue":o[28]||(o[28]=t=>e(l).assessed_disability=t),options:e(g).assessed_disability,validator:e(i)},null,8,["modelValue","options","validator"])]),a("div",null,[s(b,{label:"\xBFRecibe terapia de la discapacidad?",tooltip:"",name:"receives_therapy",modelValue:e(l).receives_therapy,"onUpdate:modelValue":o[29]||(o[29]=t=>e(l).receives_therapy=t),options:e(g).receives_therapy,validator:e(i)},null,8,["modelValue","options","validator"])])])])):r("",!0),e(c)==3?(d(),n("div",Ue,[a("div",Se,[a("div",null,[s(u,{label:"Arte en el que se desempe\xF1a",placeholder:"Seleccione",tooltip:"",name:"expertises",modelValue:e(l).expertises,"onUpdate:modelValue":o[30]||(o[30]=t=>e(l).expertises=t),options:e(m).expertises,validator:e(i)},null,8,["modelValue","options","validator"])]),a("div",null,[s(u,{label:"Experiencia en el sector art\xEDstico (A\xF1os)",placeholder:"Seleccione",tooltip:"",name:"artistic_experience",modelValue:e(l).artistic_experience,"onUpdate:modelValue":o[31]||(o[31]=t=>e(l).artistic_experience=t),options:e(g).artistic_experience,validator:e(i)},null,8,["modelValue","options","validator"])]),a("div",null,[s(b,{label:"\xBFPertenece a alg\xFAn grupo art\xEDstico?",tooltip:"",name:"artistic_group",modelValue:e(l).artistic_group,"onUpdate:modelValue":o[32]||(o[32]=t=>e(l).artistic_group=t),options:e(g).artistic_group,validator:e(i)},null,8,["modelValue","options","validator"])]),e(l).artistic_group==="1"?(d(),n("div",Fe,[s(p,{type:"text",label:"Nombre del grupo",tooltip:"Nombre del grupo",placeholder:"",name:"artistic_group_name",modelValue:e(l).artistic_group_name,"onUpdate:modelValue":o[33]||(o[33]=t=>e(l).artistic_group_name=t),validator:e(i)},null,8,["modelValue","validator"])])):r("",!0),e(l).artistic_group==="1"?(d(),n("div",$e,[s(p,{type:"text",label:"Rol en el grupo",tooltip:"Rol en el grupo",placeholder:"",name:"role_artistic_group",modelValue:e(l).role_artistic_group,"onUpdate:modelValue":o[34]||(o[34]=t=>e(l).role_artistic_group=t),validator:e(i)},null,8,["modelValue","validator"])])):r("",!0)])])):r("",!0)]),a("div",Ee,[e(c)==1?(d(),n("div",Be,[a("div",Ce,[a("button",{type:"button",onClick:o[35]||(o[35]=t=>V(1)),class:"btn btn-pending w-24"},"Siguiente")])])):r("",!0),e(c)==2?(d(),n("div",De,[a("div",je,[a("button",{type:"button",onClick:S,class:"btn btn-second w-24"},"Anterior"),a("button",{type:"button",onClick:o[36]||(o[36]=t=>V(2)),class:"btn btn-pending w-24"},"Siguiente")])])):r("",!0),a("div",Pe,[e(c)==3?(d(),n("div",Ne,[a("button",{type:"button",onClick:S,class:"btn btn-second w-24"},"Anterior"),a("button",{type:"submit",class:"btn btn-primary w-24",onClick:o[37]||(o[37]=t=>V(3))},"Ingresar")])):r("",!0)])])],64))}});export{Ke as default};
