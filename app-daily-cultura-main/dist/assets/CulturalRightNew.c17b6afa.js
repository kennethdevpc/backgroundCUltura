import{s as h,N as y,v as b,D as x,E as w,f as d,g as u,h as t,i as f,l,j as D,t as V,ad as $,F as k,q as N,Q as O}from"./index.c93647e1.js";import{d as E}from"./dropDowns.service.7a5c5bb9.js";import{u as S}from"./index.esm.8471a966.js";import"./validations.9fff8c5b.js";import{_ as B}from"./Input.d2784565.js";import{_ as R}from"./BaseBackButton.438a649f.js";import{u as j}from"./drop-downs.5b8c55a3.js";import"./index.esm.c98934a4.js";const G={class:"intro-y flex flex-col items-start gap-1 mt-8"},I={key:0,class:"text-lg font-medium mr-auto"},M={key:1,class:"text-lg font-medium mr-auto"},F={class:"intro-y box mt-5"},T=["onSubmit"],q={id:"GeneralData",class:"flex flex-col lg:grid lg:grid-cols-1 xl:grid xl:grid-cols-1 gap-6 justify-evenly mb-8"},C={class:"w-full"},L=t("div",{class:"flex justify-center"},[t("button",{type:"submit",class:"btn btn-primary w-24 ml-2"}," Ingresar ")],-1),X={__name:"CulturalRightNew",setup(Q){const o=N(),e=j(),{form:s,form_rules:p}=h(e),a=E(),r=S(p,s,{$autoDirty:!0});y(s.value,async()=>{await r.value.$validate()?e.toggleGeneralData(!0):e.toggleGeneralData(!1)});const _=async()=>await a.getOne("cultural-rights",o.params.id),c=b(()=>!!o.params.id);x(async()=>{if(o.params.id){await _().catch(()=>{w.not_found_by_id()});const{id:i,created_at:n,updated_at:m,...v}=a.dataOne.value;s.value={...v}}else e.$reset()});const g=async()=>{r.value.$validate()?c.value?await a.update("cultural-rights",a.dataOne.value.id,e.transpiledData,"culturals"):await a.create("cultural-rights",e.transpiledData,"culturals"):O.validation()};return(i,n)=>(d(),u(k,null,[t("div",G,[f(R),l(c)?(d(),u("h2",I,[D(" Edici\xF3n de derecho cultural: "),t("b",null,V(l(a).dataOne.value.id),1)])):(d(),u("h2",M," Ingresar derecho cultural "))]),t("div",F,[t("form",{onSubmit:$(g,["prevent"]),class:"p-5 border-t border-slate-200/60 dark:border-darkmode-400"},[t("section",q,[t("div",C,[f(B,{type:"text",label:"NOMBRE *",tooltip:"Ingrese el nombre de la lista",placeholder:"Lista...",name:"name",modelValue:l(s).name,"onUpdate:modelValue":n[0]||(n[0]=m=>l(s).name=m),validator:l(r)},null,8,["modelValue","validator"])])]),L],40,T)])],64))}};export{X as default};
