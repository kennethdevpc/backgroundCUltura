import{d as E,r as s,v as P,D as R,f as N,g as S,h as a,i as d,l as i,M as V,F,u as k,q as A,e as B}from"./index.c93647e1.js";import{_ as I}from"./BaseCrud.3eb21af2.js";import{d as m}from"./dropDowns.service.7a5c5bb9.js";import"./DatasheetFormat.bb093e19.js";import"./description.c57d405a.js";import"./user.service.5d6ec521.js";import"./useSlug.fdbf14df.js";import"./Input.d2784565.js";import"./Select.7b4ad9bd.js";import"./get_status.6c591513.js";const M=a("h2",{class:"text-lg font-medium mr-auto"},"Derecho Cultural",-1),O={class:"intro-y box p-5 mt-5"},j={class:"flex items-center justify-center p-2 text-base"},W=E({__name:"CulturalRightView",setup(U){const f=k(),v=A(),l=m(),g=s(),_=P(()=>String(v.name).split(".")[0]),h=()=>{f.push({name:`${_.value}.create`})};async function C(e){await m().destroy("cultural-rights",e,"culturals").then(()=>{})}const x=[{text:"#",value:"id"},{text:"NOMBRE",value:"name"},{text:"FECHA DE CREACI\xD3N",value:"created_at"},{text:"ACCIONES",value:"actions"}],r=s([]);let t=s(1),p=s(0);const u=s({});async function o(){const e=Object.keys(u.value).length?new URLSearchParams(u.value):null;await l.get(t.value,"cultural-rights",e),r.value=l.dataPaginate.all,p.value=l.dataPaginate.count_page}function w(e){t.value=1,u.value=e,o()}function y(){o()}m().success,R(async()=>{await o(),r.value.map(e=>({...e,actions:"Acciones"}))});const D=e=>{g.value=e};return(e,n)=>{const b=B("v-pagination");return N(),S(F,null,[a("div",{class:"intro-y flex flex-col sm:flex-row items-center mt-8"},[M,a("div",{class:"w-full sm:w-auto flex mt-4 sm:mt-0"},[a("button",{class:"btn btn-primary shadow-md mr-2",onClick:h}," Crear un derecho cultural ")])]),a("div",O,[a("div",j,[d(b,{modelValue:i(t),"onUpdate:modelValue":[n[0]||(n[0]=c=>V(t)?t.value=c:t=c),y],pages:i(p),"range-size":1,"active-color":"#DCEDFF"},null,8,["modelValue","pages"])]),d(I,{onSelectItem:D,headers:x,items:i(r),label:"el derecho cultural","on-delete-fnc":C,onChange_status:n[1]||(n[1]=c=>o()),onChange_filter:w,server_options:{page:1,rowsPerPage:15}},null,8,["items"])])],64)}}});export{W as default};
