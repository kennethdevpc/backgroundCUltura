import{d as S,v as p,r as i,D as T,f as E,g as v,h as l,l as n,k as y,i as A,M,F as V,u as P,q as w,E as s,e as B}from"./index.c93647e1.js";import{_ as F}from"./BaseCrud.3eb21af2.js";import{p as I}from"./permissions.c73d0fc1.js";import{c as C}from"./culturalSeedbeds.service.29180826.js";import"./DatasheetFormat.bb093e19.js";import"./description.c57d405a.js";import"./user.service.5d6ec521.js";import"./useSlug.fdbf14df.js";import"./Input.d2784565.js";import"./Select.7b4ad9bd.js";import"./get_status.6c591513.js";const k={class:"intro-y flex flex-col sm:flex-row items-center mt-8"},G=l("h2",{class:"text-lg font-medium mr-auto"}," Bit\xE1cora de semillero cultural ",-1),U={key:0,class:"w-full sm:w-auto flex mt-4 sm:mt-0"},H={class:"intro-y box mt-5 p-5"},j={class:"flex items-center justify-center p-2 text-base"},ae=S({__name:"Index",setup(q){const f=P(),g=w(),c=C(),O=p(()=>String(g.name).split(".")[0]),D=()=>{f.push({name:`${O.value}.create`})};async function N(e){await C().destroy(e),o()}const x=[{text:"CONSECUTIVO",value:"consecutive"},{text:"FECHA",value:"date",width:120},{text:"SEMILLERO",value:"datasheet",width:180},{text:"MIEMBROS",value:"quantity_members"},{text:"CREACI\xD3N",value:"created_at"},{text:"CREADO POR",value:"created_by.name"},{text:"ESTADO",value:"status"},{text:"ACCIONES",value:"actions"}],u=i([]),R=e=>{const{pec_id:a,consecutive:d,users:r}=e,h=p(()=>h[0].name);return{pec_id:a,consecutive:d,sections:{general:{title:"Datos Generales",fields:{FECHA:e.date,PEC:s.get_option_label("pecs",e.pec_id),"FICHAS DE PLANEACION":e.datasheet_planning.datasheet,"NIVEL DE DOMINIO DEL SEMILLERO":s.get_option_label("filter_level",e.filter_level),"CANTIDAD DE INTEGRANTES DEL SEMILLERO":e.quantity_members,DOMINIO:e.domain_level,"OBJETIVO VIVENCIAL DE LA JORNADA":e.objective_process}},component:{title:"COMPONENTE METADOLOGICO",fields:{"DERECHO CULTURAL":s.get_option_label("cultural_rights",e.cultural_right_id),ORIENTACIONES:s.get_option_label("orientations",e.orientation_id),LINEAMIENTO:s.get_option_label("lineaments",e.lineament_id),VALOR:s.get_option_label("values",e.values),"EXPERTICIA ART\xCDSTICA A TRABAJAR":e.artistic_expertise,"OBSERVACIONES DE LA REALIZACI\xD3N":e.observations}},multimedia:{title:"Multimedia",fields:{"IMAGEN DESARROLLO":e.development_activity_image,"IMAGEN EVIDENCIA DE PARTICIPACI\xD3N":e.evidence_participation_image}}}}};let t=i(1),_=i(0);const m=i({});async function o(){const e=Object.keys(m.value).length?new URLSearchParams(m.value):null;await c.get(t.value,e),u.value=c.data.all,_.value=c.data.count_page}function b(e){t.value=1,m.value=e,o()}function L(){o()}return T(async()=>{await o(),u.value.map(e=>({...e,actions:"Acciones"}))}),(e,a)=>{const d=B("v-pagination");return E(),v(V,null,[l("div",k,[G,n(I).culturalSeddbeds.create()?(E(),v("div",U,[l("button",{class:"btn btn-primary shadow-md mr-2",onClick:D}," Crear una Bit\xE1cora semillero cultural ")])):y("",!0)]),l("div",H,[l("div",j,[A(d,{modelValue:n(t),"onUpdate:modelValue":[a[0]||(a[0]=r=>M(t)?t.value=r:t=r),L],pages:n(_),"range-size":1,"active-color":"#DCEDFF"},null,8,["modelValue","pages"])]),A(F,{headers:x,items:n(u),item_see_fnc:R,management_permissions:n(I).culturalSeddbeds.crud_management(),label:"la bit\xE1cora semillero cultural","on-delete-fnc":N,onChange_status:a[1]||(a[1]=r=>o()),onChange_filter:b,server_options:{page:1,rowsPerPage:15}},null,8,["items","management_permissions"])])],64)}}});export{ae as default};
