import{d as E,r as o,au as N,D as R,f as _,g as v,h as r,l as n,i as d,w as D,j as S,k as O,M as h,F,e as V}from"./index.c93647e1.js";import{_ as y}from"./BaseCrud.3eb21af2.js";import{p as P}from"./permissions.c73d0fc1.js";import{_ as w}from"./ToCreate.df149aaf.js";import{s as M}from"./strengthening_supervision_manager.service.27eb464a.js";import"./DatasheetFormat.bb093e19.js";import"./description.c57d405a.js";import"./user.service.5d6ec521.js";import"./useSlug.fdbf14df.js";import"./Input.d2784565.js";import"./Select.7b4ad9bd.js";import"./get_status.6c591513.js";const T={class:"intro-y flex flex-col sm:flex-row items-center mt-8"},U=r("h2",{class:"text-lg font-medium mr-auto"}," Visita de supervisi\xF3n de gestor ",-1),H={key:0,class:"w-full sm:w-auto flex mt-4 sm:mt-0"},L={class:"intro-y box mt-5 p-5"},b={class:"flex items-center justify-center p-2 text-base"},Z=E({__name:"List",setup(k){const l=o([]),{hasPermission:g}=N(),i=M();let t=o(1),p=o(0);const u=o({});async function s(){const e=Object.keys(u.value).length?new URLSearchParams(u.value):null;await i.get(t.value,e),l.value=i.data.all,p.value=i.data.count_page}function f(e){t.value=1,u.value=e,s()}function C(){s()}R(async()=>{await s(),l.value.map(e=>({...e,actions:"Acciones"}))});async function A(e){await i.destroy(e),s()}const I=[{text:"CONSECUTIVO",value:"consecutive"},{text:"NAC",value:"nac.name"},{text:"TRANSFERENCIA",value:"methodological_instruction.name"},{text:"DIRECCI\xD3N",value:"address"},{text:"FECHA DE REVISI\xD3N",value:"revision_date"},{text:"HORA INICIO",value:"start_time"},{text:"HORA FINAL",value:"final_time"},{text:"USUARIO SUPERVISADO",value:"user_manager.name"},{text:"CREADOR POR",value:"user.name"},{text:"FECHA CREACI\xD3N",value:"created_at"},{text:"ESTADO",value:"status"},{text:"ACCIONES",value:"actions"}],x=e=>{const{id:a,consecutive:c}=e;return{id:a,consecutive:c,sections:{general:{title:"Datos Generalesx",fields:{CONSECUTIVO:e.consecutive,"FECHA DE REVISI\xD3N":e.revision_date,"HORA INICIO":e.start_time,"HORA FINAL":e.final_time,DIRECCI\u00D3N:e.address,TRANSFERENCIA:e.methodological_instruction.name,FRECUENCIA:e.frequency,"BITACORAS REGISTRADAS EN PLATAFORMA":e.binnacle_registered_plataform,"DESCRIPCI\xD3N DE LA JORNADA":e.description,OBSERVACI\u00D3N:e.comments}},multimedia:{title:"Multimedia",fields:{"IMAGEN I":e.development_activity_image,"IMAGEN II":e.evidence_participation_image}}}}};return(e,a)=>{const c=V("v-pagination");return _(),v(F,null,[r("div",T,[U,n(g)("strengtheningSupervisionMans.create")?(_(),v("div",H,[d(w,{to:{name:"strengtheningSupervisionMans.create"}},{default:D(()=>[S(" Crear un visita de supervisi\xF3n de gestor ")]),_:1},8,["to"])])):O("",!0)]),r("div",L,[r("div",b,[d(c,{modelValue:n(t),"onUpdate:modelValue":[a[0]||(a[0]=m=>h(t)?t.value=m:t=m),C],pages:n(p),"range-size":1,"active-color":"#DCEDFF"},null,8,["modelValue","pages"])]),d(y,{items:n(l),headers:I,item_see_fnc:x,management_permissions:n(P).strengtheningSupervisionManager.crud_management(),label:"Visita de supervisi\xF3n de gestor","on-delete-fnc":A,onChange_status:a[1]||(a[1]=m=>s()),onChange_filter:f,server_options:{page:1,rowsPerPage:15}},null,8,["items","management_permissions"])])],64)}}});export{Z as default};
