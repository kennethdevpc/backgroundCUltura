import{d as R,au as x,a as D,v as S,r,D as N,f as _,g as A,h as i,l as n,i as d,w as h,j as L,k as P,M as F,F as w,u as M,q as T,e as y}from"./index.c93647e1.js";import{_ as V}from"./BaseCrud.3eb21af2.js";import{p as I}from"./permissions.c73d0fc1.js";import{s as G}from"./strengtheningSuperMonIns.service.5319b29f.js";import{_ as U}from"./ToCreate.df149aaf.js";import"./DatasheetFormat.bb093e19.js";import"./description.c57d405a.js";import"./user.service.5d6ec521.js";import"./useSlug.fdbf14df.js";import"./Input.d2784565.js";import"./Select.7b4ad9bd.js";import"./get_status.6c591513.js";const b={class:"intro-y flex flex-col sm:flex-row items-center mt-8"},H=i("h2",{class:"text-lg font-medium mr-auto"}," Fortalecimiento a la supervisi\xF3n monitores e instructores ",-1),k={key:0,class:"w-full sm:w-auto flex mt-4 sm:mt-0"},B={class:"intro-y box mt-5 p-5"},j={class:"flex items-center justify-center p-2 text-base"},se=R({__name:"List",setup(J){const o=G();x(),D(),M();const v=T();S(()=>String(v.name).split(".")[0]);async function E(e){await o.destroy(e),s()}const g=[{text:"CONSECUTIVO",value:"consecutive"},{text:"CREADO POR",value:"created_by.name"},{text:"FECHA REGISTRO PLATAFORMA",value:"platform_registration_date"},{text:"FECHA REVISI\xD3N",value:"revision_date",width:120},{text:"NAC",value:"nac.name",width:120},{text:"ROL",value:"role.name",width:120},{text:"USUARIO",value:"user.name",width:120},{text:"CREACI\xD3N",value:"created_at"},{text:"ESTADO",value:"status"},{text:"ACCIONES",value:"actions"}],l=r([]),C=e=>{const{id:a,consecutive:u}=e;return{id:a,consecutive:u,sections:{general:{title:"Datos Generales",fields:{"FECHA DE REVISI\xD3N":e.revision_date,NAC:e.nac.name,ROL:e.role.name,USUARIO:e.user.name}},evaluations:{title:"Criterios de evaluaci\xF3n",fields:{"FECHA DE REGISTRO DEL PEC A PLATAFORMA":e.pec_date,DIRECCI\u00D3N:e.address,"\xBFCUMPLIO?":e.pec_reached_target?"SI":"NO","FICHA PEDAGOGICA REGISTRADA EN PLATAFORMA":e.pedagogicals_reached_target?"SI":"NO","LISTADO DE ASISTENCIA":e.attendance_list?"SI":"NO","EL MONITOR INICIO LA JORNADA A LA HORA REGISTRADA EN EL PEC? ":e.validated_pec_time?"SI":"NO","DESCRIPCI\xD3N DE LA JORNADA":e.description,OBSERVACIONES:e.comments}},multimedia:{title:"Multimedia",fields:{"IMAGEN DESARROLLO":e.development_activity_image,"IMAGEN EVIDENCIA DE PARTICIPACI\xD3N":e.evidence_participation_image}}}}};let t=r(1),p=r(0);const c=r({});async function s(){const e=Object.keys(c.value).length?new URLSearchParams(c.value):null;await o.get(t.value,e),l.value=o.data.all,p.value=o.data.count_page}function f(e){t.value=1,c.value=e,s()}function O(){s()}return N(async()=>{await s(),l.value.map(e=>({...e,actions:"Acciones"}))}),(e,a)=>{const u=y("v-pagination");return _(),A(w,null,[i("div",b,[H,n(I).strengtheningSuperMonIns.create()?(_(),A("div",k,[d(U,{to:{name:"strengtheningSuperMonIns.create"}},{default:h(()=>[L(" Crear registro ")]),_:1},8,["to"])])):P("",!0)]),i("div",B,[i("div",j,[d(u,{modelValue:n(t),"onUpdate:modelValue":[a[0]||(a[0]=m=>F(t)?t.value=m:t=m),O],pages:n(p),"range-size":1,"active-color":"#DCEDFF"},null,8,["modelValue","pages"])]),d(V,{headers:g,items:n(l),item_see_fnc:C,management_permissions:n(I).strengtheningSuperMonIns.crud_management(),label:"la bit\xE1cora","on-delete-fnc":E,onChange_status:a[1]||(a[1]=m=>s()),onChange_filter:f,server_options:{page:1,rowsPerPage:15}},null,8,["items","management_permissions"])])],64)}}});export{se as default};
