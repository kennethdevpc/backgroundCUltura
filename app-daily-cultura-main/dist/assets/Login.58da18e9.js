import{d as S,a as V,G as k,b as C,r as F,H as $,v as q,D as A,p as L,C as M,f as l,g as d,h as e,l as s,n as E,F as N,x as B,y as I,k as O,ad as U,i as p,L as R,q as T,u as j,an as x}from"./index.c93647e1.js";import{u as z,a as D,_ as G}from"./Alert.3da1af7c.js";import{f as c,r as f,n as H}from"./index.esm.c98934a4.js";import{u as P}from"./index.esm.8471a966.js";import{_}from"./Input.d2784565.js";import{u as J}from"./useApi.3f746542.js";var K="/assets/government_banner-white.c6c575ab.webp",Q="/assets/logo.8a490d0c.svg";const W={class:"container sm:px-10"},X={class:"block grid-cols-2 gap-4 xl:grid"},Y=R('<div class="hidden min-h-screen xl:grid xl:grid-cols-1 xl:content-between py-12"><a href="#" class="flex items-center -intro-x"><img alt="Logo" class="w-16" src="'+G+'"><p class="text-lg font-bold tracking-wide text-white"> SSISET - Cultura </p></a><div class="mb-12"><img alt="Logo" class="w-1/2 -intro-x" src="'+K+'"></div></div>',1),Z={class:"flex h-screen py-5 my-10 xl:h-auto xl:py-0 xl:my-0"},ee={class:"w-full px-5 py-8 mx-auto my-auto bg-white rounded-md shadow-md xl:ml-20 dark:bg-darkmode-600 xl:bg-transparent sm:px-8 xl:p-0 xl:shadow-none sm:w-3/4 lg:w-2/4 xl:w-auto"},se=e("a",{href:"#",class:"xl:hidden flex flex-col items-center -intro-x"},[e("img",{alt:"Logo",class:"w-16",src:Q})],-1),te=e("h2",{class:"text-2xl font-bold text-center intro-x xl:text-3xl xl:text-left"}," Iniciar sesi\xF3n ",-1),ae=["onSubmit"],oe={class:"mt-8 intro-x flex flex-col gap-6 justify-evenly"},le={class:"w-full"},re={class:"w-full"},ne=e("div",{class:"mt-5 text-center intro-x xl:mt-8 xl:text-left"},[e("button",{type:"submit",class:"w-full px-4 py-3 align-top btn btn-primary xl:w-32 xl:mr-3"}," Ingresar ")],-1),fe=S({__name:"Login",setup(ie){const m=V(),g=z(),h=k();C(),T();const u=j();F();const t=$({email:"",password:""}),v=q(()=>({email:{required:c.withMessage("Se requiere el usuario",f),numeric:c.withMessage("El usuario es n\xFAmero",H)},password:{required:c.withMessage("Se requiere la contrase\xF1a",f)}})),r=P(v,t);async function w(){if(r.value.$validate()){const a=await m.login(t);a.status==200?u.push({name:"dashboard"}):(x.fire("Oops!",`${a.data.message}`,"warning"),t.password="")}else x.fire("Validaci\xF3n","Por favor valide los campos solicitados.","error")}A(()=>{g.$reset(),m.$reset(),h.$reset(),L("body").removeClass("main").removeClass("error-page").addClass("login")});const{find:b}=J(),{state:n,execute:y}=M(()=>b("alerts").then(i=>i.data.items),null,{resetOnExecute:!1});return u.beforeEach(()=>{y()}),(i,a)=>(l(),d("div",null,[e("div",W,[e("div",X,[Y,e("div",Z,[e("div",ee,[se,te,s(n)!=null?(l(),d("div",{key:0,class:E([{"h-28 overflow-y-auto":s(n).length>1},"mt-5 flex flex-col gap-y-2 snap-y"])},[(l(!0),d(N,null,B(s(n),o=>(l(),I(D,{alert:o},null,8,["alert"]))),256))],2)):O("",!0),e("form",{onSubmit:U(w,["prevent"])},[e("div",oe,[e("div",le,[p(_,{type:"text",label:"Usuario",tooltip:"",placeholder:"N\xFAmero de documento",name:"email",modelValue:s(t).email,"onUpdate:modelValue":a[0]||(a[0]=o=>s(t).email=o),validator:s(r)},null,8,["modelValue","validator"])]),e("div",re,[p(_,{type:"password",label:"Contrase\xF1a",tooltip:"",placeholder:"*********",name:"password",modelValue:s(t).password,"onUpdate:modelValue":a[1]||(a[1]=o=>s(t).password=o),validator:s(r)},null,8,["modelValue","validator"])])]),ne],40,ae)])])])])]))}});export{fe as default};
