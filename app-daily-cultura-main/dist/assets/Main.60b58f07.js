import{d as H,u as O,a as se,b as ae,s as P,o as ce,c as W,r as G,e as d,f as t,g as s,h as e,i,w as v,j as D,n as x,k as p,l as n,t as k,m as Y,p as $,q as K,v as B,F as w,x as I,y,z as U,T as Z,A as ee,B as ie,C as re,D as le}from"./index.c93647e1.js";import{_ as oe,u as te,a as de}from"./Alert.3da1af7c.js";import{u as ue}from"./useApi.3f746542.js";const _e={class:"top-bar-boxed h-[70px] md:h-[65px] z-[51] border-b border-white/[0.08] mt-12 md:mt-0 -mx-3 sm:-mx-8 md:-mx-0 px-3 md:border-b-0 relative md:fixed md:inset-x-0 md:top-0 sm:px-8 md:px-10 md:pt-10 md:bg-gradient-to-b md:from-slate-100 md:to-transparent dark:md:from-darkmode-700"},me={class:"flex items-center h-full"},pe=e("a",{href:"",class:"logo -intro-x hidden md:flex xl:w-[180px] items-center relative"},[e("img",{src:oe,class:"w-8",alt:"SSISET - Cultura"}),e("span",{class:"ml-2 text-base text-white logo__text"},[e("b",null,"SSISET - Cultura")])],-1),he={"aria-label":"breadcrumb",class:"-intro-x h-[45px] mr-auto"},ge={class:"breadcrumb breadcrumb-light"},fe=e("li",{class:"breadcrumb-item"},null,-1),ve={class:"breadcrumb-item","aria-current":"page"},be={class:"bg-secondary w-full h-full flex justify-center items-center"},xe={key:0,class:"font-medium"},we={class:"text-xs text-white/60 mt-0.5 dark:text-slate-500"},ke=H({__name:"Main",setup(a){const c=O(),o=se(),u=ae(),{user:_,get_user_role:g}=P(o),C=async()=>{await u.dataSelects(!1)};ce(async(f,b,h)=>{(String(b.name).includes("create")||String(b.name).includes("edit"))&&await C(),h()}),W(async()=>{await C()}),G(!1);const N=async()=>{(await o.logout()).status===200&&c.push({name:"Login"})};return(f,b)=>{const h=d("router-link"),M=d("UserIcon"),L=d("DropdownToggle"),A=d("DropdownHeader"),r=d("DropdownDivider"),S=d("ToggleRightIcon"),l=d("DropdownItem"),T=d("DropdownContent"),m=d("DropdownMenu"),E=d("Dropdown");return t(),s("div",_e,[e("div",me,[pe,e("nav",he,[e("ol",ge,[fe,e("li",ve,[i(h,{to:{name:"dashboard"}},{default:v(()=>[D(" Dashboard ")]),_:1})]),f.$route.path.includes("settings")?(t(),s("li",{key:0,class:x([f.$route.path.includes("settings")?"active":"","breadcrumb-item"]),"aria-current":"page"}," Ajustes ",2)):p("",!0)])]),i(E,{class:"w-8 h-8 intro-x"},{default:v(()=>[i(L,{tag:"div",role:"button",class:"w-8 h-8 overflow-hidden scale-110 rounded-full shadow-lg image-fit zoom-in"},{default:v(()=>[e("div",be,[i(M,{class:"w-4 h-4"})])]),_:1}),i(m,{class:"w-56"},{default:v(()=>[i(T,{class:"bg-primary/80 before:block before:absolute before:bg-black before:inset-0 before:rounded-md before:z-[-1] text-white"},{default:v(()=>[i(A,{tag:"div",class:"!font-normal"},{default:v(()=>{var j,X;return[n(_).profile?(t(),s("div",xe,k((j=n(_).profile.contractor_full_name)!=null?j:n(_).name),1)):p("",!0),e("div",we,k((X=n(g).name)!=null?X:"Sin rol"),1)]}),_:1}),i(r,{class:"border-white/[0.08]"}),i(l,{onClick:N,class:"dropdown-item hover:bg-white/5"},{default:v(()=>[i(S,{class:"w-4 h-4 mr-2"}),D("Salir ")]),_:1})]),_:1})]),_:1})]),_:1})])])}}}),Me=Y("sideMenu",{state:()=>({menu:[{icon:"LayersIcon",pageName:"reports.index",title:"Reportes",ignore:!0},{icon:"SettingsIcon",pageName:"Configuraci\xF3n",title:"Configuraci\xF3n",subMenu:[{icon:"ListIcon",pageName:"Listas desplegables",title:"Listas desplegables",subMenu:[{icon:"MinusIcon",pageName:"culturals.index",title:"Derecho cultural",ignore:!0},{icon:"MinusIcon",pageName:"entities.index",title:"Entidades",ignore:!0},{icon:"MinusIcon",pageName:"expertises.index",title:"Experticia",ignore:!0},{icon:"MinusIcon",pageName:"nacs.index",title:"Nac",ignore:!0},{icon:"MinusIcon",pageName:"neighborhoods.index",title:"Barrio",ignore:!0},{icon:"MinusIcon",pageName:"orientations.index",title:"Orientaci\xF3n",ignore:!0}]},{icon:"UserIcon",pageName:"Seguridad",title:"Seguridad",subMenu:[{icon:"ListIcon",pageName:"users.index",title:"Usuarios",ignore:!0},{icon:"ListIcon",pageName:"modules.index",title:"Modulo",ignore:!0},{icon:"ListIcon",pageName:"items.index",title:"Modulo item",ignore:!0},{icon:"ListIcon",pageName:"roles.index",title:"Roles",ignore:!0},{icon:"ListIcon",pageName:"permissions.index",title:"Permisos",ignore:!0}]}]},{icon:"LayersIcon",pageName:"characterization.index",title:"Encuesta",ignore:!0},{icon:"UsersIcon",pageName:"Monitores",title:"Monitores",subMenu:[{icon:"HomeIcon",pageName:"inscriptions.index",title:"Inscripciones",ignore:!0},{icon:"FileTextIcon",pageName:"pedagogicals.index",title:"Ficha Pedag\xF3gica",ignore:!0},{icon:"FileTextIcon",pageName:"binnacles.index",title:"Bitacoras",ignore:!0},{icon:"HomeIcon",pageName:"pecs.index",title:"Pecs"}]},{icon:"UsersIcon",pageName:"Gestores",title:"Gestores",subMenu:[{icon:"FolderIcon",pageName:"dialoguetables.index",title:"Mesa de Dialogo"},{icon:"FolderIcon",pageName:"methodological.index",title:"Instruccion Metodologica"},{icon:"FolderIcon",pageName:"managermonitoring.index",title:"Seg de gestor cultural"}]}]})}),R=G(!1),q=()=>{R.value=!R.value},z=(a,c)=>{a.subMenu?a.activeDropdown=!a.activeDropdown:(R.value=!1,c.push({name:a.pageName}))},J=(a,c)=>{$(a).slideDown(300)},Q=(a,c)=>{$(a).slideUp(300)},V=(a,c)=>{let o=!1;return a.forEach(u=>{(c.forceActiveMenu!==void 0&&u.pageName===c.forceActiveMenu||c.forceActiveMenu===void 0&&u.pageName===c.name)&&!u.ignore?o=!0:!o&&u.subMenu&&(o=V(u.subMenu,c))}),o},ne=(a,c)=>(a.forEach((o,u)=>{if(typeof o!="string"){let _=a[u];_.active=(c.forceActiveMenu!==void 0&&o.pageName===c.forceActiveMenu||c.forceActiveMenu===void 0&&o.pageName===c.name||o.subMenu&&V(o.subMenu,c))&&!o.ignore,o.subMenu&&(_.activeDropdown=V(o.subMenu,c),_={...o,...ne(o.subMenu,c)})}}),a),F=(a,c,o)=>{a.subMenu?a.activeDropdown=!a.activeDropdown:(o.preventDefault(),c.push({name:a.pageName}))},Ie={class:"mobile-menu-bar"},Ce=e("a",{href:"",class:"flex mr-auto"},[e("img",{alt:"SSISET",class:"w-8",src:oe})],-1),Se={href:"javascript:;",class:"mobile-menu-toggler"},ye={class:"scrollable"},De={href:"javascript:;",class:"mobile-menu-toggler"},$e={class:"scrollable__content py-2"},Ne=["onClick"],Le={class:"menu__icon"},Ae={class:"menu__title"},Te={key:0},Ee=["onClick"],je={class:"menu__icon"},Be={class:"menu__title"},Re={key:0},ze=["onClick"],Fe={class:"menu__icon"},Ue={class:"menu__title"},Ve={__name:"Main",setup(a){const c=K(),o=O();G([]);const u=Me();B(()=>ne(u.menu,c));const _=te(),{get_menu_instance:g,loading:C}=P(_);return(N,f)=>{const b=d("BarChart2Icon"),h=d("XCircleIcon"),M=d("ChevronDownIcon"),L=d("ActivityIcon"),A=d("ZapIcon");return t(),s("div",{class:x(["mobile-menu md:hidden",{"mobile-menu--active":n(R)}])},[e("div",Ie,[Ce,e("a",Se,[i(b,{class:"w-8 h-8 text-white transform -rotate-90",onClick:n(q)},null,8,["onClick"])])]),e("div",ye,[e("a",De,[i(h,{class:"w-8 h-8 text-white transform -rotate-90",onClick:n(q)},null,8,["onClick"])]),e("ul",$e,[(t(!0),s(w,null,I(n(g),(r,S)=>(t(),s(w,null,[r=="devider"?(t(),s("li",{key:r+S,class:"menu__devider my-6"})):(t(),s("li",{key:S},[e("a",{href:"javascript:;",class:x(["menu",{"menu--active":r.active,"menu--open":r.activeDropdown}]),onClick:l=>n(z)(r,n(o))},[e("div",Le,[(t(),y(U(r.icon)))]),e("div",Ae,[D(k(r.title)+" ",1),r.subMenu?(t(),s("div",{key:0,class:x(["menu__sub-icon",{"transform rotate-180":r.activeDropdown}])},[i(M)],2)):p("",!0)])],10,Ne),i(Z,{onEnter:n(J),onLeave:n(Q)},{default:v(()=>[r.subMenu&&r.activeDropdown?(t(),s("ul",Te,[(t(!0),s(w,null,I(r.subMenu,(l,T)=>(t(),s("li",{key:T},[e("a",{href:"javascript:;",class:x(["menu",{"menu--active":l.active}]),onClick:m=>n(z)(l,n(o))},[e("div",je,[i(L)]),e("div",Be,[D(k(l.title)+" ",1),l.subMenu?(t(),s("div",{key:0,class:x(["menu__sub-icon",{"transform rotate-180":l.activeDropdown}])},[i(M)],2)):p("",!0)])],10,Ee),i(Z,{onEnter:n(J),onLeave:n(Q)},{default:v(()=>[l.subMenu&&l.activeDropdown?(t(),s("ul",Re,[(t(!0),s(w,null,I(l.subMenu,(m,E)=>(t(),s("li",{key:E},[e("a",{href:"javascript:;",class:x(["menu",{"menu--active":m.active}]),onClick:j=>n(z)(m,n(o))},[e("div",Fe,[i(A)]),e("div",Ue,k(m.title),1)],10,ze)]))),128))])):p("",!0)]),_:2},1032,["onEnter","onLeave"])]))),128))])):p("",!0)]),_:2},1032,["onEnter","onLeave"])]))],64))),256))])])],2)}}},He={__name:"Main",setup(a){const c=ee(),o=B(()=>c.darkMode);return(()=>{o.value?$("html").addClass("dark"):$("html").removeClass("dark")})(),(_,g)=>(t(),s("div"))}},Oe=Y("colorScheme",{state:()=>({colorSchemeValue:localStorage.getItem("colorScheme")===null?"default":localStorage.getItem("colorScheme")}),getters:{colorScheme(a){return localStorage.getItem("colorScheme")===null&&localStorage.setItem("colorScheme","default"),a.colorSchemeValue}},actions:{setColorScheme(a){localStorage.setItem("colorScheme",a),this.colorSchemeValue=a}}}),Pe={__name:"Main",setup(a){const c=ee(),o=B(()=>c.darkMode),u=Oe(),_=B(()=>u.colorScheme);return(()=>{$("html").attr("class",_.value).addClass(o.value?"dark":"")})(),(C,N)=>(t(),s("div"))}},Ge={key:0,class:"fixed top-0 left-0 z-[1000] bg-black/40 backdrop-blur-sm w-full h-full"},Xe={class:"grid place-content-center place-items-center h-full"},Ze=H({__name:"Loading",setup(a){return(c,o)=>{const u=d("loading-icon");return n(ie)?(t(),s("div",Ge,[e("div",Xe,[i(u,{icon:"three-dots",class:"w-16 text-white",color:"rgb(255 255 255)"})])])):p("",!0)}}}),qe={class:"py-5 md:py-0"},Je={class:"top-nav"},Qe={key:0,class:"px-6 h-[55px] flex justify-center w-full"},We={key:1},Ye=["href","onClick"],Ke={class:"top-menu__icon"},eo={class:"top-menu__title"},oo={key:0},to=["href","onClick"],no={class:"top-menu__icon"},so={class:"top-menu__title"},ao={key:0},co=["href","onClick"],io={class:"top-menu__icon"},ro={class:"top-menu__title"},lo={key:0,class:"px-12 mt-5 flex flex-col gap-y-2"},uo={class:"content content--top-nav"},ho=H({__name:"Main",setup(a){const{find:c}=ue();K();const o=O(),{state:u,execute:_}=re(()=>c("alerts").then(f=>f.data.items),null,{resetOnExecute:!1});o.beforeEach(()=>{_()});const g=te(),{get_menu_instance:C,loading:N}=P(g);return W(async()=>{await g.computed_menu()}),o.beforeResolve(async(f,b,h)=>{String(b.name).includes("create")&&await g.computed_menu(),h()}),le(()=>{$("body").removeClass("error-page").removeClass("login").addClass("main")}),(f,b)=>{const h=d("loading-icon"),M=d("ChevronDownIcon"),L=d("ActivityIcon"),A=d("router-view");return t(),s("div",qe,[i(Ze),i(He),i(Pe),i(Ve),i(ke,{class:"top-bar-boxed--top-menu"}),e("nav",Je,[n(N)?(t(),s("div",Qe,[i(h,{icon:"three-dots",class:"w-16",color:"rgb(255 255 255)"})])):(t(),s("ul",We,[(t(!0),s(w,null,I(n(C),(r,S)=>(t(),s("li",{key:S},[e("a",{href:r.subMenu?"javascript:;":n(o).resolve({name:r.pageName}).path,class:x(["top-menu",{"top-menu--active":r.active}]),onClick:l=>n(F)(r,n(o),l)},[e("div",Ke,[(t(),y(U(r.icon)))]),e("div",eo,[D(k(r.title)+" ",1),r.subMenu?(t(),y(M,{key:0,class:"top-menu__sub-icon"})):p("",!0)])],10,Ye),r.subMenu?(t(),s("ul",oo,[(t(!0),s(w,null,I(r.subMenu,(l,T)=>(t(),s("li",{key:T},[e("a",{href:l.subMenu?"javascript:;":n(o).resolve({name:l.pageName}).path,class:"top-menu",onClick:m=>n(F)(l,n(o),m)},[e("div",no,[i(L)]),e("div",so,[D(k(l.title)+" ",1),l.subMenu?(t(),y(M,{key:0,class:"top-menu__sub-icon"})):p("",!0)])],8,to),l.subMenu?(t(),s("ul",ao,[(t(!0),s(w,null,I(l.subMenu,(m,E)=>(t(),s("li",{key:E},[e("a",{href:m.subMenu?"javascript:;":n(o).resolve({name:m.pageName}).path,class:"top-menu",onClick:j=>n(F)(m,n(o),j)},[e("div",io,[(t(),y(U("zap-icon")))]),e("div",ro,k(m.title),1)],8,co)]))),128))])):p("",!0)]))),128))])):p("",!0)]))),128))]))]),n(u)!=null?(t(),s("div",lo,[(t(!0),s(w,null,I(n(u),r=>(t(),y(de,{alert:r},null,8,["alert"]))),256))])):p("",!0),e("div",uo,[i(A)])])}}});export{ho as default};
