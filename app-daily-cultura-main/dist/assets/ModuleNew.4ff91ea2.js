import{m as y,s as w,N as D,v as I,D as S,E as $,f as N,g as U,h as t,i,t as G,ad as O,l as e,F as k,u as E,q as M}from"./index.c93647e1.js";import{m as B}from"./module.service.336126f6.js";import{u as R}from"./index.esm.8471a966.js";import{_ as c}from"./Input.d2784565.js";import{_ as g}from"./Radio.33857de6.js";import{_ as T}from"./Textarea.8cc31183.js";import{_ as j}from"./BaseBackButton.438a649f.js";import{r as d}from"./validations.9fff8c5b.js";import"./index.esm.c98934a4.js";const q=y("modules",{state:()=>({form:{name:"",slug:"",description:"",icon:"",available:"",hasItems:"",position:""},form_rules:{name:{required:d},slug:{required:d},icon:{},description:{required:d},available:{required:d},hasItems:{required:d},position:{required:d}},form_options:{decisions:[{value:"1",text:"Si"},{value:"0",text:"No"}]},validator:{generalData:!1,modules:!1}}),getters:{isGeneralData:u=>u.validator.generalData},actions:{toggleGeneralData(u){this.$patch(m=>{m.validator.generalData=u})}}}),F={class:"intro-y flex flex-col items-start gap-1 mt-8"},P={class:"text-lg font-medium mr-auto"},C={class:"intro-y box mt-5"},z=["onSubmit"],A={id:"generalData",class:"flex flex-col lg:grid lg:grid-cols-2 xl:grid xl:grid-cols-2 gap-6 justify-evenly mb-8"},H={class:"w-full"},J={class:"w-full"},K={class:"w-full lg:col-span-2 xl:col-span-2"},L={class:"w-full"},Q={class:"w-full"},W={class:"w-full"},X={class:"w-full"},Y={class:"flex justify-center"},Z=["disabled"],de={__name:"ModuleNew",props:["id"],setup(u){const m=u,n=B(),r=q(),{form:a,form_rules:b,form_options:p}=w(r),s=R(b,a);E();const f=M();D(a.value,async()=>{await s.value.$validate()?r.toggleGeneralData(!0):r.toggleGeneralData(!1)});const V=async()=>await n.getOne(m.id),v=I(()=>!!f.params.id);S(async()=>{if(n.dataOne.value,f.params.id){await V().catch(()=>{$.not_found_by_id()});const{id:_,created_at:o,updated_at:l,...h}=n.dataOne.value;a.value={...h}}else r.$reset()});const x=async()=>{v.value?await n.update(n.dataOne.value.id,a.value):await n.create(a.value)};return(_,o)=>(N(),U(k,null,[t("div",F,[i(j),t("h2",P,G(m.id?"Editar":"Crear")+" modulo ",1)]),t("div",C,[t("form",{onSubmit:O(x,["prevent"]),class:"px-5 sm:px-10 py-10 border-t border-slate-200/60 dark:border-darkmode-400"},[t("section",A,[t("div",H,[i(c,{type:"text",label:"Nombre *",tooltip:"Ingrese el nombre",placeholder:"Nombre",name:"name",modelValue:e(a).name,"onUpdate:modelValue":o[0]||(o[0]=l=>e(a).name=l),validator:e(s)},null,8,["modelValue","validator"])]),t("div",J,[i(c,{type:"text",label:"Slug *",tooltip:"Ingrese el slug",placeholder:"Slug",name:"slug",modelValue:e(a).slug,"onUpdate:modelValue":o[1]||(o[1]=l=>e(a).slug=l),validator:e(s)},null,8,["modelValue","validator"])]),t("div",K,[i(T,{label:"Descripcion *",tooltip:"Ingrese la descripcion",placeholder:"Descripcion",name:"description",modelValue:e(a).description,"onUpdate:modelValue":o[2]||(o[2]=l=>e(a).description=l),validator:e(s),rows:"3"},null,8,["modelValue","validator"])]),t("div",L,[i(c,{type:"text",label:"Icon",tooltip:"Ingrese el icon",placeholder:"icon",name:"icon",modelValue:e(a).icon,"onUpdate:modelValue":o[3]||(o[3]=l=>e(a).icon=l),validator:e(s)},null,8,["modelValue","validator"])]),t("div",Q,[i(g,{label:"Disponible?",tooltip:"Disponible?",name:"available",modelValue:e(a).available,"onUpdate:modelValue":o[4]||(o[4]=l=>e(a).available=l),options:e(p).decisions,validator:e(s)},null,8,["modelValue","options","validator"])]),t("div",W,[i(g,{label:"Tiene art\xEDculos?",tooltip:"Tiene art\xEDculos?",name:"hasItems",modelValue:e(a).hasItems,"onUpdate:modelValue":o[5]||(o[5]=l=>e(a).hasItems=l),options:e(p).decisions,validator:e(s)},null,8,["modelValue","options","validator"])]),t("div",X,[i(c,{type:"number",label:"Posici\xF3n",tooltip:"Posici\xF3n",placeholder:"1",name:"position",modelValue:e(a).position,"onUpdate:modelValue":o[6]||(o[6]=l=>e(a).position=l),validator:e(s)},null,8,["modelValue","validator"])])]),t("div",Y,[t("button",{disabled:!e(r).isGeneralData&&!e(v)&&e(r).loading,type:"submit",class:"btn btn-primary w-24 ml-2"}," Ingresar ",8,Z)])],40,z)])],64))}};export{de as default};
