import{m as h,s as V,v as w,D,E as S,f as c,g as u,h as t,i,l as e,j as $,t as k,ad as N,F as I,q as O,Q as E}from"./index.c93647e1.js";import{u as P}from"./index.esm.8471a966.js";import{_ as p}from"./Input.d2784565.js";import{_ as U}from"./Textarea.8cc31183.js";import{_ as j}from"./BaseBackButton.438a649f.js";import{r as d}from"./validations.9fff8c5b.js";import{p as B}from"./permission.service.43853215.js";import"./index.esm.c98934a4.js";const C=h("permissions",{state:()=>({form:{name:"",slug:"",description:"",controller:""},form_rules:{name:{required:d},slug:{required:d},description:{required:d},controller:{required:d}},validator:{generalData:!1}}),getters:{isGeneralData:n=>n.validator.generalData},actions:{toggleGeneralData(n){this.$patch(o=>{o.validator.generalData=n})}}}),q={class:"intro-y flex flex-col items-start gap-1 mt-8"},F={key:0,class:"text-lg font-medium mr-auto"},G={key:1,class:"text-lg font-medium mr-auto"},M={class:"intro-y box mt-5"},R=["onSubmit"],T={id:"generalData",class:"flex flex-col lg:grid lg:grid-cols-2 xl:grid xl:grid-cols-3 gap-6 justify-evenly mb-8"},Q={class:"w-full"},z={class:"w-full"},A={class:"w-full"},H={class:"w-full lg:col-span-2 xl:col-span-3"},J={class:"flex justify-center"},K=["disabled"],oe={__name:"PermissionsNew",setup(n){const o=B(),f=C(),{form:a,form_rules:v}=V(f),r=P(v,a),m=O(),b=async()=>await o.getOne(m.params.id),_=w(()=>!!m.params.id);D(async()=>{if(m.params.id){await b().catch(()=>{S.not_found_by_id()});const{id:g,created_at:s,updated_at:l,...y}=o.dataOne.value;a.value={...y}}else f.$reset()});const x=async()=>{await r.value.$validate()?_.value?await o.update(o.dataOne.value.id,a.value):await o.create(a.value):E.validation()};return(g,s)=>(c(),u(I,null,[t("div",q,[i(j),e(_)?(c(),u("h2",F,[$(" Edicion de Permiso: "),t("b",null,k(e(o).dataOne.value.name),1)])):(c(),u("h2",G," Creacion de Permiso "))]),t("div",M,[t("form",{onSubmit:N(x,["prevent"]),class:"px-5 sm:px-10 py-10 border-t border-slate-200/60 dark:border-darkmode-400"},[t("section",T,[t("div",Q,[i(p,{type:"text",label:"Nombre *",tooltip:"Ingrese el nombre",placeholder:"Nombre",name:"name",modelValue:e(a).name,"onUpdate:modelValue":s[0]||(s[0]=l=>e(a).name=l),validator:e(r)},null,8,["modelValue","validator"])]),t("div",z,[i(p,{type:"text",label:"Slug *",tooltip:"Ingrese el slug",placeholder:"Slug",name:"slug",modelValue:e(a).slug,"onUpdate:modelValue":s[1]||(s[1]=l=>e(a).slug=l),validator:e(r)},null,8,["modelValue","validator"])]),t("div",A,[i(p,{type:"text",label:"Controlador *",tooltip:"Ingrese el controlador",placeholder:"Controlador",name:"controller",modelValue:e(a).controller,"onUpdate:modelValue":s[2]||(s[2]=l=>e(a).controller=l),validator:e(r)},null,8,["modelValue","validator"])]),t("div",H,[i(U,{label:"Descripcion *",tooltip:"Ingrese la descripcion",placeholder:"Descripcion",name:"description",modelValue:e(a).description,"onUpdate:modelValue":s[3]||(s[3]=l=>e(a).description=l),validator:e(r),rows:"3"},null,8,["modelValue","validator"])])]),t("div",J,[t("button",{disabled:e(o).loading.value,type:"submit",class:"btn btn-primary w-24 ml-2"}," Ingresar ",8,K)])],40,R)])],64))}};export{oe as default};
