import{d as x,E as c,v as l,r as v,D as f,f as A,g as m,h as o,t as N,l as i,i as u,w as T,j as L,k as P,F as g,u as h,q as y}from"./index.c93647e1.js";import{_ as b}from"./BaseCrud.3eb21af2.js";import{p as d}from"./permissions.c73d0fc1.js";import{b as V}from"./binnacle_territories.service.3e4eec66.js";import{_ as F}from"./ToCreate.df149aaf.js";import"./DatasheetFormat.bb093e19.js";import"./description.c57d405a.js";import"./user.service.5d6ec521.js";import"./useSlug.fdbf14df.js";import"./Input.d2784565.js";import"./Select.7b4ad9bd.js";import"./get_status.6c591513.js";const U={class:"intro-y flex flex-col sm:flex-row items-center mt-8"},w={class:"text-lg font-medium mr-auto"},M={key:0,class:"w-full sm:w-auto flex mt-4 sm:mt-0"},B={class:"intro-y box mt-5 p-5"},Z=x({__name:"ReportTerritorial",setup(G){const a=V(),{is_role:t}=c.computed;h();const _=y();l(()=>String(_.name).split(".")[0]);async function E(e){await a.destroy(e),r()}const I=[{text:"CONSECUTIVO",value:"consecutive"},{text:"CREADO POR",value:"created_by.name"},{text:"FECHA",value:"activity_date",width:120},{text:"HORA INICIO",value:"start_time"},{text:"HORA FINAL",value:"final_hour"},{text:"NAC",value:"nac.name"},{text:"CREACI\xD3N",value:"created_at"},{text:"USUARIO AUDITADO",value:"user_id"},{text:"ROL AUDITADO",value:"roles"},{text:"ESTADO",value:"status"},{text:"ACCIONES",value:"actions"}],s=v([]),p=e=>{const{id:n,consecutive:R,roles:S}=e,D=l(()=>S[0].name);return{id:n,consecutive:R,sections:{general:{title:"Datos Generales",fields:{NAC:e.nac.name,ROL:D.value,USUARIO:c.get_option_label("users_table",e.user.id),FECHA:e.activity_date,"HORA INICIO":e.start_time,"HORA FINAL":e.final_hour,LUGAR:e.place}},development:{title:"DESARROLLO DE LA VISITA",fields:{"OBJETIVOS ESTRAT\xC9GICOS DEL \xC1REA":e.strategic_objectives_area,"PROP\xD3SITO DE LA VISITA":e.purpose_visit}},diagnostic:{title:"DIAGN\xD3STICO INICIAL",fields:{"TEM\xC1TICAS ABORDADAS":e.topics_covered,"PERCEPCI\xD3N DE LOS PARTICIPANTES FRENTE A LAS ACTIVIDADES DESARROLLADAS POR EL \xC1REA":e.participants_perception,"DIFICULTADES O PROBLEM\xC1TICAS IDENTIFICADAS":e.problems_identified,"RECOMENDACIONES Y ACCIONES DE MEJORA PROPUESTAS POR LOS PARTICIPANTES ":e.recommendations_actions,"PERCEPCIONES/COMENTARIOS/AN\xC1LISIS FRENTE AL AVANCE DEL PROCESO":e.comments_analysis}},multimedia:{title:"Multimedia",fields:{"IMAGEN DESARROLLO":e.development_activity_image,"IMAGEN EVIDENCIA DE PARTICIPACI\xD3N":e.evidence_participation_image}}}}};async function r(){await a.get().then(()=>{s.value=a.data.all})}f(async()=>{await r(),s.value.map(e=>({...e,actions:"Acciones"}))});const C=t("subdireccion")?d.subdireccion.crud_management():d.direccion.crud_management(),O=()=>t("super.root")||t("root");return(e,n)=>(A(),m(g,null,[o("div",U,[o("h2",w,"Reporte de visita a territorio "+N(i(t)("subdireccion")?"":"de coordinador supervisi\xF3n"),1),O?(A(),m("div",M,[u(F,{to:{name:"coordinadores.create"}},{default:T(()=>[L(" Crear Visita a Territorio ")]),_:1},8,["to"])])):P("",!0)]),o("div",B,[u(b,{headers:I,items:i(s),item_see_fnc:p,management_permissions:i(C),label:"la bit\xE1cora","on-delete-fnc":E},null,8,["items","management_permissions"])])],64))}});export{Z as default};
