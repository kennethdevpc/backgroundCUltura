import{d,v as f,r as C,D as O,f as _,g as v,h as t,i as x,l as S,F as R,u as E,q as I}from"./index.c93647e1.js";import{_ as N}from"./BaseCrud.3eb21af2.js";import{r as g}from"./role.service.37d43193.js";import"./DatasheetFormat.bb093e19.js";import"./description.c57d405a.js";import"./user.service.5d6ec521.js";import"./useSlug.fdbf14df.js";import"./Input.d2784565.js";import"./Select.7b4ad9bd.js";import"./get_status.6c591513.js";const h=t("h2",{class:"text-lg font-medium mr-auto"},"Roles",-1),B={class:"intro-y box p-5 mt-5"},k=d({__name:"RolesView",setup(D){const a=g(),l=E(),c=I();f(()=>String(c.name).split(".")[0]);const i=()=>{l.push({name:"roles.create"})};async function u(e){await a.destroy(e),n()}const m=[{text:"NOMBRE",value:"name"},{text:"SLUG",value:"slug"},{text:"DESCRIPCION",value:"description"},{text:"ACCESO COMPLETO",value:"full-access"},{text:"PUBLICO",value:"public"},{text:"ACCIONES",value:"actions"}],o=C([]),p=e=>{const{id:r}=e;return{id:r,consecutive:`Rol-${r}`,sections:{general:{title:"Datos Generales",fields:{NOMBRE:e.name,SLUG:e.slug,DESCRIPCI\u00D3N:e.description,"ACCESO COMPLETO":e["full-access"]=="si"?"SI":"NO",PUBLICO:e.public==1?"SI":"NO","PERMISOS (TABLA)":e.permissions.map(s=>({NOMBRE:s.name,SLUG:s.slug,CONTROLADOR:s.controller,DESCRIPCI\u00D3N:s.description}))}}}}};async function n(){await a.get(),o.value=a.data.value}return O(async()=>{await n(),o.value.map(e=>({...e,actions:"Acciones"}))}),(e,r)=>(_(),v(R,null,[t("div",{class:"intro-y flex flex-col sm:flex-row items-center mt-8"},[h,t("div",{class:"w-full sm:w-auto flex mt-4 sm:mt-0"},[t("button",{class:"btn btn-primary shadow-md mr-2",onClick:i},"Crear un rol")])]),t("div",B,[x(N,{headers:m,items:S(o),item_see_fnc:p,label:"el rol","on-delete-fnc":u},null,8,["items"])])],64))}});export{k as default};
