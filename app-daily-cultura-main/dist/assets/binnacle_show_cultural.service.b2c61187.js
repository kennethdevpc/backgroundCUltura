import{H as g,r as _,u as v,P as s,K as l,Q as r,E as $}from"./index.c93647e1.js";const d="binnacleculturalshow",p="api/v1";function I(){const u=g({all:[],one:{},count_page:0});v();const m=_("");return{data:u,errors:m,get:async(a,e=null)=>{var t;try{s(!0);let i=Boolean(e)?`?page=${a}&${e}`:`?page=${a}`,c=await l.get(`/${p}/${d}${i}`).finally(()=>{s(!1)});return c.status===200&&(u.all=c.data.items,u.count_page=c.data.count_page),c}catch(i){r.custom_validation((t=i.response.data.error)!=null?t:i.response.data.message)}},getOne:async a=>{var e;try{s(!0);let t=await l.get(`/${p}/${d}/${a}`).finally(()=>{s(!1)});return t.status===200&&(u.one=t.data.items),t}catch(t){t.response.status===404?$.not_found_by_id():r.custom_validation((e=t.response.data.error)!=null?e:t.response.data.message)}},update:async(a,e)=>{var n;m.value="";const t=new FormData,{file_1:i,file_2:c,...f}=e;for(const[o,y]of Object.entries(f))t.append(o,y);t.append("development_activity_image",i),t.append("evidence_participation_image",c);try{s(!0);const o=await l.post(`/${p}/${d}/${a}`,t).finally(()=>{s(!1)});return o.status===200&&r.update(),o}catch(o){r.custom_validation((n=o.response.data.error)!=null?n:o.response.data.message)}},create:async a=>{var f;m.value="";const e=new FormData,{file_1:t,file_2:i,...c}=a;for(const[n,o]of Object.entries(c))e.append(n,o);e.append("development_activity_image",t),e.append("evidence_participation_image",i);try{s(!0);const n=await l.post(`/${p}/${d}`,e).finally(()=>{s(!1)});return n.status===200&&n.data.success&&r.create(),n}catch(n){r.custom_validation((f=n.response.data.error)!=null?f:n.response.data.message)}},destroy:async a=>{var e;try{s(!0),(await l.delete(`/${p}/${d}/${a}`).finally(()=>{s(!1)})).status==200&&r.destroy("Show cultural",a)}catch(t){r.custom_validation((e=t.response.data.error)!=null?e:t.response.data.message)}},getAllByUserId:async()=>{var a;try{s(!0);let e=await l.get(`/${p}/getAllByUserLogged`).finally(()=>{s(!1)});return e.status===200&&(u.all=e.data.items),e}catch(e){r.custom_validation((a=e.response.data.error)!=null?a:e.response.data.message)}}}}export{I as b};
