import{H as $,r as _,u as h,P as s,K as p,Q as i,E as w}from"./index.c93647e1.js";const d="culturalCirculations",l="api/v1";function F(){const u=$({all:[],one:{},no_paginate:[],count_page:0}),f=_([]),y=h(),g=_("");return{get:async(a,e=null)=>{var t;try{s(!0);let r=Boolean(e)?`?page=${a}&${e}`:`?page=${a}`,c=await p.get(`/${l}/${d}${r}`).finally(()=>{s(!1)});c.status===200&&(u.all=c.data.items,u.count_page=c.data.count_page)}catch(r){i.custom_validation((t=r.response.data.error)!=null?t:r.response.data.message)}},data:u,dataOne:f,errors:g,getOne:async a=>{var e;try{s(!0);let t=await p.get(`/${l}/${d}/${a}`).finally(()=>{s(!1)});return t.status===200&&(f.value=t.data.items),t}catch(t){t.response.status===404?w.not_found_by_id():i.custom_validation((e=t.response.data.error)!=null?e:t.response.data.message)}},update:async(a,e)=>{var n;g.value="";const t=new FormData,{development_activity_image:r,evidence_participation_image:c,...m}=e;for(const[o,v]of Object.entries(m))t.append(o,v);t.append("development_activity_image",r),t.append("evidence_participation_image",c);try{s(!0);const o=await p.post(`/${l}/${d}/${a}`,e,{headers:{"Content-Type":"multipart/form-data"}}).finally(()=>{s(!1)});return o.data.success&&i.update(),o}catch(o){i.custom_validation((n=o.response.data.error)!=null?n:o.response.data.message)}},create:async a=>{var m;g.value="";const e=new FormData,{development_activity_image:t,evidence_participation_image:r,...c}=a;for(const[n,o]of Object.entries(c))e.append(n,o);e.append("development_activity_image",t),e.append("evidence_participation_image",r);try{s(!0);const n=await p.post(`/${l}/${d}`,e,{headers:{"Content-Type":"multipart/form-data"}}).finally(()=>{s(!1)});return n.status===200&&n.data.success&&i.create(),n}catch(n){i.custom_validation((m=n.response.data.error)!=null?m:n.response.data.message)}},destroy:async a=>{var e;try{s(!0),(await p.delete(`/${l}/${d}/${a}`).finally(()=>{s(!1)})).status===200&&await y.push({name:"methodologicalsheetsone.index"})}catch(t){i.custom_validation((e=t.response.data.error)!=null?e:t.response.data.message)}},getCountLimit:async()=>{var a;try{s(!0);let e=await p.get(`/${l}/getCountLimit/${d}`).finally(()=>{s(!1)});return e.status===200&&(u.all=e.data.items),e}catch(e){i.custom_validation((a=e.response.data.error)!=null?a:e.response.data.message)}}}}export{F as u};
