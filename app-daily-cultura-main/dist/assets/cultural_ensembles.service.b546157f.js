import{r as p,H as y,u as g,P as r,K as o,E as $}from"./index.c93647e1.js";const l="culturalEnsembles",c="api/v1";function x(){const d=p([]),m=g(),u=p(""),i=y({all:[],one:{},no_paginate:[],count_page:0});return{get:async(s,e=null)=>{var t;try{r(!0);let a=Boolean(e)?`?page=${s}&${e}`:`?page=${s}`,n=await o.get(`/${c}/${l}${a}`).finally(()=>{r(!1)});n.status===200&&(i.all=n.data.items,i.count_page=n.data.count_page)}catch(a){alerts.custom_validation((t=a.response.data.error)!=null?t:a.response.data.message)}},data:i,dataOne:d,errors:u,getOne:async s=>{var e;try{r(!0);let t=await o.get(`/${c}/${l}/${s}`).finally(()=>{r(!1)});if(t.status===200)return d.value=t.data.items,t.data.items}catch(t){t.response.status===404?$.not_found_by_id():alerts.custom_validation((e=t.response.data.error)!=null?e:t.response.data.message)}},update:async(s,e)=>{var a;u.value="";const t=new FormData;for(const[n,f]of Object.entries(e))t.append(n,f);try{r(!0);const n=await o.post(`/${c}/${l}/${s}`,t,{headers:{"Content-Type":"multipart/form-data"}}).finally(()=>{r(!1)});return n.data.success&&alerts.update(),n}catch(n){alerts.custom_validation((a=n.response.data.error)!=null?a:n.response.data.message)}},create:async s=>{var t;u.value="";const e=new FormData;for(const[a,n]of Object.entries(s))e.append(a,n);try{r(!0);const a=await o.post(`/${c}/${l}`,e,{headers:{"Content-Type":"multipart/form-data"}}).finally(()=>{r(!1)});return a.status===200&&a.data.success&&alerts.create(),a}catch(a){alerts.custom_validation((t=a.response.data.error)!=null?t:a.response.data.message)}},destroy:async s=>{var e;try{r(!0),(await o.delete(`/${c}/${l}/${s}`).finally(()=>{r(!1)})).status===200&&await m.push({name:"culturalEnsembles.index"})}catch(t){alerts.custom_validation((e=t.response.data.error)!=null?e:t.response.data.message)}},getCountLimit:async()=>{var s;try{r(!0);let e=await o.get(`/${c}/getCountLimit/${l}`).finally(()=>{r(!1)});return e.status===200&&(i.value=e.data.items),e}catch(e){alerts.custom_validation((s=e.response.data.error)!=null?s:e.response.data.message)}}}}export{x as c};
