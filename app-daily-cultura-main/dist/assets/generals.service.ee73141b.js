import{r as u,H as C,K as l,Q as n,P as r}from"./index.c93647e1.js";const i="api/v1";function q(){const c=u(""),g=C({all:[],one:{},count_page:0}),p=u(""),f=u(""),y=u([]),D=u(0),$=C({all:[],one:{},no_paginate:[],count_page:0});return{data:c,getConsecutive:async(s,a)=>{var e;try{let t=await l.get(`/${i}/consecutive/generate/${s}/${a}`);return t.status===200&&(c.value=t.data),t}catch(t){n.custom_validation((e=t.response.data.error)!=null?e:t.response.data.message)}},getChangeDataModels:async(s,a=null)=>{try{r(!0);let e=Boolean(a)?`?page=${s}&${a}`:`?page=${s}`,t=await l.get(`/${i}/getChangeDataModels${e}`).finally(()=>{r(!1)});t.status===200&&(g.all=t.data.data.items,g.count_page=t.data.data.count_page)}catch(e){n.custom_validation(e.response)}},destroy:async s=>{var a;try{r(!0),(await l.delete(`/${i}/destroyChangeDataModel/${s}`).finally(()=>{r(!1)})).status==200&&n.destroy("Control de data",s)}catch(e){errors.value=e.response.data.errors,n.custom_validation((a=e.response.data.error)!=null?a:e.response.data.message)}},getGroupBeneficiaries:async(s,a)=>{var t;const e=a||"without_beneficiaries";try{if(s){r(!0);let o=await l.get(`/${i}/getGroupBeneficiaries/${s}/${e}`).finally(()=>{r(!1)});return o.status===200&&(p.value=o.data.items),o}}catch(o){r(!1),p.value=[],n.custom_validation((t=o.response.data.error)!=null?t:o.response.data.message)}},data_beneficiaries:p,data_count_form:f,getCountDataForm:async()=>{var s;try{r(!0);let a=await l.get(`/${i}/getCountDataForm`).finally(()=>{r(!1)});return a.status===200&&(f.value=a.data.items),a}catch(a){r(!1),f.value={monitor:{pecs:0,instructions:0,pedagogicals:0,binnacles:0,pollDesertion:0},polls:0},n.custom_validation((s=a.response.data.error)!=null?s:a.response.data.message)}},getGroups:async s=>{var a;try{let e=await l.get(`/${i}/getGroups`);return e.status===200&&(y.value=e.data),e}catch(e){n.custom_validation((a=e.response.data.error)!=null?a:e.response.data.message)}},dataGroups:y,getGroupsCreatedBy:async s=>{var a;try{let e=await l.get(`/${i}/getGroupsCreatedBy/${s}`);return e.status===200&&(y.value=e.data),e}catch(e){n.custom_validation((a=e.response.data.error)!=null?a:e.response.data.message)}},getAllDataCreatedBy:async(s,a,e=null)=>{var t;try{r(!0);let o=await l.get(`/${i}/getAllDataCreatedBy/${s}`).finally(()=>{r(!1)});return o.status===200&&(c.all=o.data.items),o}catch(o){n.custom_validation((t=o.response.data.error)!=null?t:o.response.data.message)}},getDataSheet:async(s,a)=>{var e;try{r(!0);let t=await l.get(`/${i}/getDataSheet/${s}/${a}`).finally(()=>{r(!1)});return t.status===200&&(c.all=t.data.items),t}catch(t){n.custom_validation((e=t.response.data.error)!=null?e:t.response.data.message)}},getProfileRoleUserNac:async s=>{var a;try{r(!0);let e=await l.get(`/${i}/profileRoleUserNac/${s}`).finally(()=>{r(!1)});return e.status===200&&(c.all=e.data.items),e}catch(e){n.custom_validation((a=e.response.data.error)!=null?a:e.response.data.message)}},count_page:D,get:async(s,a=null)=>{var e,t,o,v,_,h;try{r(!0);let d=Boolean(a)?`?page=${s}&${a}`:`?page=${s}`,m=await l.get(`/${i}/${module}${d}`).finally(()=>{r(!1)});m.status===200&&($.all=m.data.items,$.count_page=m.data.count_page)}catch(d){n.custom_validation((h=(_=(t=(e=d.response)==null?void 0:e.data)==null?void 0:t.error)!=null?_:(v=(o=d.response)==null?void 0:o.data)==null?void 0:v.message)!=null?h:"Ocurri\xF3 un error en la respuesta")}},dataControl:g}}export{q as c};
