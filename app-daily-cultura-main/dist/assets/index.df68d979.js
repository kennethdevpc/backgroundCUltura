import{d as x,r as i,au as N,D as h,f as p,g as C,h as r,l,i as d,w as b,j as D,k as L,M as R,F as S,E as s,e as T}from"./index.c93647e1.js";import{_ as P}from"./BaseCrud.3eb21af2.js";import{p as y}from"./permissions.c73d0fc1.js";import{_ as w}from"./ToCreate.df149aaf.js";import{c as M}from"./cultural_ensembles.service.b546157f.js";import"./DatasheetFormat.bb093e19.js";import"./description.c57d405a.js";import"./user.service.5d6ec521.js";import"./useSlug.fdbf14df.js";import"./Input.d2784565.js";import"./Select.7b4ad9bd.js";import"./get_status.6c591513.js";const V={class:"intro-y flex flex-col sm:flex-row items-center mt-8"},F=r("h2",{class:"text-lg font-medium mr-auto"},"Bit\xE1cora Ensamble Cultural",-1),U={key:0,class:"w-full sm:w-auto flex mt-4 sm:mt-0"},B={class:"intro-y box mt-5 p-5"},H={class:"flex items-center justify-center p-2 text-base"},ee=x({__name:"index",setup(k){const c=i([]),{hasPermission:v}=N(),o=M();let t=i(1),E=i(0);const u=i({});async function n(){const e=Object.keys(u.value).length?new URLSearchParams(u.value):null;await o.get(t.value,e),c.value=o.data.all,E.value=o.data.count_page}function f(e){t.value=1,u.value=e,n()}function A(){n()}h(async()=>{await n(),c.value.map(e=>({...e,actions:"Acciones"}))});async function g(e){await o.destroy(e),n()}const I=[{text:"CONSECUTIVO",value:"consecutive"},{text:"FECHA",value:"date",width:120},{text:"ENSAMBLE CULTURAL",value:"datasheet",width:150},{text:"DERECHO CULTURAL",value:"cultural_right_id"},{text:"LINEAMIENTOS",value:"lineament_id"},{text:"ORIENTACIONES",value:"orientation_id"},{text:"CREADO POR",value:"created_by"},{text:"FECHA DE CREACI\xD3N",value:"created_at"},{text:"ESTADO",value:"status"},{text:"ACCIONES",value:"actions"}],O=e=>{const{id:a,consecutive:_}=e;return{id:a,consecutive:_,sections:{general:{title:"Datos Generales",fields:{CONSECUTIVO:e.consecutive,FECHA:e.date,PEC:s.get_option_label("pecs",e.pec_id),"FICHA METODOLOGICA PLANEACION":e.datasheet_planning.datasheet,"NIVEL DE DOMINIO DEL SEMILLERO PARTICIPANTE":s.get_option_label("filter_level",e.filter_level),"DERECHO CULTURAL":s.get_option_label("cultural_rights",e.cultural_right_id),DESCRIPCION:e.description,"ARACTER\xCDSTICAS DEL ENSAMBLE":e.assembly_characteristics,"OBJETIVO DEL PROCESO":e.objective_process,"CARACTERISTICAS P\xDABLICO ASISTENTE":e.public_characteristics,LINEAMIENTOS:s.get_option_label("lineaments",e.lineament_id),ORIENTACIONES:s.get_option_label("orientations",e.orientation_id),VALOR:s.get_option_label("values",e.value)}},multimedia:{title:"Multimedia",fields:{"IMAGEN I":e.development_activity_image,"IMAGEN II":e.evidence_participation_image,"AFORO PDF":e.aforo_pdf}}}}};return(e,a)=>{const _=T("v-pagination");return p(),C(S,null,[r("div",V,[F,l(v)("culturalEnsembles.create")?(p(),C("div",U,[d(w,{to:{name:"culturalEnsembles.create"}},{default:b(()=>[D(" Crear una Bit\xE1cora ")]),_:1},8,["to"])])):L("",!0)]),r("div",B,[r("div",H,[d(_,{modelValue:l(t),"onUpdate:modelValue":[a[0]||(a[0]=m=>R(t)?t.value=m:t=m),A],pages:l(E),"range-size":1,"active-color":"#DCEDFF"},null,8,["modelValue","pages"])]),d(P,{items:l(c),headers:I,item_see_fnc:O,management_permissions:l(y).culturalEnsembles.crud_management(),label:"Emsamble Cultural Label","on-delete-fnc":g,onChange_status:a[1]||(a[1]=m=>n()),onChange_filter:f,server_options:{page:1,rowsPerPage:15}},null,8,["items","management_permissions"])])],64)}}});export{ee as default};
