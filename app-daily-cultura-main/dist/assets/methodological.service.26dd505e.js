import{H as $,r as v,u as h,P as n,K as i,Q as r,E as w}from"./index.c93647e1.js";const c="methodologicalInstructions",l="api/v1";function D(){const p=$({all:[],one:{},no_paginate:[],count_page:0}),y=h(),u=v("");return{data:p,errors:u,get:async s=>{var a;try{n(!0);let e=await i.get(`/${l}/${c}?page=`+s).finally(()=>{n(!1)});e.status===200&&(p.all=e.data.items,p.count_page=e.data.count_page)}catch(e){r.custom_validation((a=e.response.data.error)!=null?a:e.response.data.message)}},getOne:async s=>{var a;try{n(!0);let e=await i.get(`/${l}/${c}/${s}`).finally(()=>{n(!1)});return e.status===200&&(p.one=e.data.items),e}catch(e){e.response.status===404?w.not_found_by_id():r.custom_validation((a=e.response.data.error)!=null?a:e.response.data.message)}},update:async(s,a)=>{var t;u.value="";const e=new FormData,{place_file1:f,place_file2:m,assistants:g,...d}=a;for(const[o,_]of Object.entries(d))e.append(o,_);e.append("assistants",JSON.stringify(g)),e.append("place_file1",f.file),e.append("place_file2",m.file);try{n(!0);const o=await i.post(`/${l}/${c}/${s}`,e,{"Content-Type":"multipart/form-data"}).finally(()=>{n(!1)});o.status==200&&o.data.success&&(r.update(),y.push({name:"methodologicalInstructions.index",params:{}}))}catch(o){r.custom_validation((t=o.response.data.error)!=null?t:o.response.data.message)}},create:async s=>{var d;u.value="";const a=new FormData,{place_file1:e,place_file2:f,assistants:m,...g}=s;for(const[t,o]of Object.entries(g))a.append(t,o);a.append("assistants",JSON.stringify(m)),a.append("place_file1",e.file),a.append("place_file2",f.file);try{n(!0);const t=await i.post(`/${l}/${c}`,a,{"Content-Type":"multipart/form-data"}).finally(()=>{n(!1)});return t.status===200&&t.data.success&&r.create(),t}catch(t){r.custom_validation((d=t.response.data.error)!=null?d:t.response.data.message)}},destroy:async s=>{var a;try{n(!0),(await i.delete(`/${l}/${c}/${s}`).finally(()=>{n(!1)})).status===200&&r.destroy("Instrucci\xF3n Metodol\xF3gica",s)}catch(e){r.custom_validation((a=e.response.data.error)!=null?a:e.response.data.message)}}}}export{D as m};
