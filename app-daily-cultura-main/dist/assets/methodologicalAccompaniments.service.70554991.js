import{H as v,r as $,u as h,P as n,K as p,Q as i,E as w}from"./index.c93647e1.js";const l="methodologicalAccompaniments",d="api/v1";function C(){const m=v({all:[],one:{},no_paginate:[],count_page:0}),_=h(),f=$("");return{data:m,errors:f,get:async(a,t=null)=>{var e;try{n(!0);let o=Boolean(t)?`?page=${a}&${t}`:`?page=${a}`,r=await p.get(`/${d}/${l}${o}`).finally(()=>{n(!1)});r.status===200&&(m.all=r.data.items,m.count_page=r.data.count_page)}catch(o){i.custom_validation((e=o.response.data.error)!=null?e:o.response.data.message)}},getOne:async a=>{var t;try{n(!0);let e=await p.get(`/${d}/${l}/${a}`).finally(()=>{n(!1)});return e.status===200&&(m.one=e.data.items),e}catch(e){e.response.status===404?w.not_found_by_id():i.custom_validation((t=e.response.data.error)!=null?t:e.response.data.message)}},update:async(a,t)=>{var s;f.value="";const e=new FormData,{development_activity_image:o,evidence_participation_image:r,assistants:g,...u}=t;for(const[c,y]of Object.entries(u))e.append(c,y);e.append("assistants",JSON.stringify(g)),o!=null&&e.append("development_activity_image",o.file),r!=null&&e.append("evidence_participation_image",r.file);try{n(!0),(await p.post(`/${d}/${l}/${a}`,e,{"Content-Type":"multipart/form-data"}).finally(()=>{n(!1)})).status==200&&(i.update(),_.push({name:"methodologicalAccompaniments.index"}))}catch(c){i.custom_validation(c.response.data.message),i.custom_validation((s=c.response.data.error)!=null?s:c.response.data.message)}},create:async a=>{var u;f.value="";const t=new FormData,{development_activity_image:e,evidence_participation_image:o,assistants:r,...g}=a;for(const[s,c]of Object.entries(g))t.append(s,c);t.append("development_activity_image",e.file),t.append("evidence_participation_image",o.file),t.append("assistants",JSON.stringify(r));try{n(!0);const s=await p.post(`/${d}/${l}`,t,{"Content-Type":"multipart/form-data"}).finally(()=>{n(!1)});return s.data.success===!0&&i.create(),s}catch(s){i.custom_validation((u=s.response.data.error)!=null?u:s.response.data.message)}},destroy:async a=>{var t;try{n(!0),(await p.delete(`/${d}/${l}/${a}`).finally(()=>{n(!1)})).status===200&&i.destroy("Acompa\xF1amiento metodol\xF3gico",a)}catch(e){i.custom_validation((t=e.response.data.error)!=null?t:e.response.data.message)}}}}export{C as m};
