import{H as m,r as $,u as g,P as n,K as i,Q as r,E as D,O as u}from"./index.c93647e1.js";import{s as v,a as _}from"./index.37cca9d1.js";const c="api/v1",l="methodologicalsheetstwo";function x(){const p=m({all:[],one:{},no_paginate:[],count_page:0});g();const f=$("");return{data:p,errors:f,get:async(o,a=null)=>{var t;try{n(!0);let e=Boolean(a)?`?page=${o}&${a}`:`?page=${o}`,s=await i.get(`/${c}/${l}${e}`).finally(()=>{n(!1)});s.status===200&&(p.all=s.data.items,p.count_page=s.data.count_page)}catch(e){r.custom_validation((t=e.response.data.error)!=null?t:e.response.data.message)}},getOne:async o=>{var a;try{n(!0);let t=await i.get(`/${c}/${l}/${o}`).finally(()=>{n(!1)});return t.status===200&&(p.one=t.data.items),t}catch(t){t.response.status===404?D.not_found_by_id():r.custom_validation((a=t.response.data.error)!=null?a:t.response.data.message)}},update:async(o,a)=>{var e;f.value="";const t=new FormData;for(const[s,d]of Object.entries(a))t.append(s,d);try{n(!0);const s=await i.post(`/${c}/${l}/${o}`,t,{"Content-Type":"multipart/form-data"}).finally(()=>{n(!1)});return s.status===200&&r.update(),s}catch(s){r.custom_validation((e=s.response.data.error)!=null?e:s.response.data.message)}},create:async o=>{var t;f.value="";const a=new FormData;for(const[e,s]of Object.entries(o))a.append(e,s);try{n(!0);const e=await i.post(`/${c}/${l}`,a,{"Content-Type":"multipart/form-data"}).finally(()=>{n(!1)});return e.status===200&&e.data.success&&r.create(),e}catch(e){r.custom_validation((t=e.response.data.error)!=null?t:e.response.data.message)}},destroy:async o=>{var a;try{n(!0),(await i.delete(`/${c}/${l}/${o}`).finally(()=>{n(!1)})).status==200&&r.destroy("Ficha Pedag\xF3gica",o)}catch(t){r.custom_validation((a=t.response.data.error)!=null?a:t.response.data.message)}},byRangeActivityDate:(o,a)=>{const[t,e,s]=u().format("YYYY-MM-DD").split("-");let d="",y="";return s<=10?(d=u(v(u(`${t}-${e}-01`).toDate(),1)).format("YYYY-MM-DD"),y=`${t}-${e}-10`):(d=`${t}-${e}-11`,y=u(_(u(`${t}-${e}-10`).toDate(),1)).format("YYYY-MM-DD")),i.post(`/${c}/${l}/byRangeActvityDate`,{initDate:o||d,lastDate:a||y})}}}export{x as M};
