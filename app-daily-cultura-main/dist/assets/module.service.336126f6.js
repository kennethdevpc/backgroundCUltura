import{r as l,u as f,P as t,K as r,Q as o,E as y}from"./index.c93647e1.js";const n="modules",u="api/v1";function x(){const p=l([]),m=l([]),i=f(),c=l("");return{data:p,dataOne:m,errors:c,get:async()=>{var a;try{t(!0);let s=await r.get(`/${u}/${n}`).finally(()=>{t(!1)});s.status===200&&(p.value=s.data.items)}catch(s){o.custom_validation((a=s.response.data.error)!=null?a:s.response.data.message)}},getOne:async a=>{var s;try{t(!0);let e=await r.get(`/${u}/${n}/${a}`).finally(()=>{t(!1)});return e.status===200&&(m.value=e.data.items),e}catch(e){e.response.status===404?y.not_found_by_id():o.custom_validation((s=e.response.data.error)!=null?s:e.response.data.message)}},update:async(a,s)=>{var e;c.value="";try{t(!0),(await r.put(`/${u}/${n}/${a}`,s).finally(()=>{t(!1)})).status===200&&(o.update(),i.push({name:"modules.index",params:{}}))}catch(d){o.custom_validation((e=d.response.data.error)!=null?e:d.response.data.message)}},create:async a=>{var s;c.value="";try{t(!0),(await r.post(`/${u}/${n}`,a).finally(()=>{t(!1)})).status===200&&(o.create(),i.push({name:"modules.index"}))}catch(e){o.custom_validation((s=e.response.data.error)!=null?s:e.response.data.message)}},destroy:async a=>{var s;try{t(!0),(await r.delete(`/${u}/${n}/${a}`).finally(()=>{t(!1)})).status===200&&(o.destroy("Modulo",a),await i.push({name:"modules.index"}))}catch(e){o.custom_validation((s=e.response.data.error)!=null?s:e.response.data.message)}}}}export{x as m};
