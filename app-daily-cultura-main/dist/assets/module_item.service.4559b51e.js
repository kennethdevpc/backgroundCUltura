import{r as l,u as f,P as t,K as n,Q as r,E as y}from"./index.c93647e1.js";const o="items",i="api/v1";function x(){const p=l([]),m=l([]),c=f(),u=l("");return{data:p,dataOne:m,errors:u,get:async()=>{var a;try{t(!0);let s=await n.get(`/${i}/${o}`).finally(()=>{t(!1)});s.status===200&&(p.value=s.data.items)}catch(s){r.custom_validation((a=s.response.data.error)!=null?a:s.response.data.message)}},getOne:async a=>{var s;try{t(!0);let e=await n.get(`/${i}/${o}/${a}`).finally(()=>{t(!1)});return e.status===200&&(m.value=e.data.items),e}catch(e){e.response.status===404?y.not_found_by_id():r.custom_validation((s=e.response.data.error)!=null?s:e.response.data.message)}},update:async(a,s)=>{var e;u.value="";try{t(!0),(await n.put(`/${i}/${o}/${a}`,s).finally(()=>{t(!1)})).status===200&&(r.update(),c.push({name:"items.index",params:{}}))}catch(d){r.custom_validation((e=d.response.data.error)!=null?e:d.response.data.message)}},create:async a=>{var s;u.value="";try{t(!0),(await n.post(`/${i}/${o}`,a).finally(()=>{t(!1)})).status===200&&(r.create(),c.push({name:"items.index"}))}catch(e){r.custom_validation((s=e.response.data.error)!=null?s:e.response.data.message)}},destroy:async a=>{var s;try{t(!0),(await n.delete(`/${i}/${o}/${a}`).finally(()=>{t(!1)})).status===200&&(r.destroy("Modulo",a),await c.push({name:"items.index"}))}catch(e){r.custom_validation((s=e.response.data.error)!=null?s:e.response.data.message)}}}}export{x as m};
