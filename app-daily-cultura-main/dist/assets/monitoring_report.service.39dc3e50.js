import{H as _,r as $,u as v,P as n,K as p,Q as i,E as w}from"./index.c93647e1.js";const l="monitoringReports",d="api/v1";function D(){const u=_({all:[],one:{},no_paginate:[],count_page:0}),g=v(),m=$("");return{data:u,errors:m,get:async(a,t=null)=>{var e;try{n(!0);let o=Boolean(t)?`?page=${a}&${t}`:`?page=${a}`,r=await p.get(`/${d}/${l}${o}`).finally(()=>{n(!1)});r.status===200&&(u.all=r.data.items,u.count_page=r.data.count_page)}catch(o){i.custom_validation((e=o.response.data.error)!=null?e:o.response.data.message)}},getOne:async a=>{var t;try{n(!0);let e=await p.get(`/${d}/${l}/${a}`).finally(()=>{n(!1)});return e.status===200&&(u.one=e.data.items),e}catch(e){e.response.status===404?w.not_found_by_id():i.custom_validation((t=e.response.data.error)!=null?t:e.response.data.message)}},update:async(a,t)=>{var f;m.value="";const e=new FormData,{file_1:o,file_2:r,...s}=t;for(const[c,y]of Object.entries(s))e.append(c,y);e.append("development_activity_image",o),e.append("evidence_participation_image",r);try{n(!0),(await p.post(`/${d}/${l}/${a}`,e).finally(()=>{n(!1)})).status===200&&(i.update(),g.push({name:"monitoringReports.index"}))}catch(c){i.custom_validation((f=c.response.data.error)!=null?f:c.response.data.message)}},create:async a=>{var r;m.value="";const t=new FormData,{file:e,...o}=a;for(const[s,f]of Object.entries(o))t.append(s,f);t.append("file",e);try{n(!0);const s=await p.post(`/${d}/${l}`,t).finally(()=>{n(!1)});return s.status===200&&s.data.success&&i.create(),s}catch(s){i.custom_validation((r=s.response.data.error)!=null?r:s.response.data.message)}},destroy:async a=>{var t;try{n(!0),(await p.delete(`/${d}/${l}/${a}`).finally(()=>{n(!1)})).status==200&&i.destroy("Informe de seguimiento",a)}catch(e){i.custom_validation((t=e.response.data.error)!=null?t:e.response.data.message)}}}}export{D as m};
