import{H as w,r as h,u as O,P as s,K as d,Q as r,E as x}from"./index.c93647e1.js";const c="parentschools",l="api/v1";function T(){const m=w({all:[],one:{},no_paginate:[],count_page:0}),v=O(),_=h("");return{data:m,errors:_,get:async(t,a=null)=>{var e;s(!0);try{s(!0);let n=Boolean(a)?`?page=${t}&${a}`:`?page=${t}`,o=await d.get(`/${l}/${c}${n}`).finally(()=>{s(!1)});o.status===200&&(m.all=o.data.items,m.count_page=o.data.count_page)}catch(n){r.custom_validation((e=n.response.data.error)!=null?e:n.response.data.message)}},getOne:async t=>{var a;try{s(!0);let e=await d.get(`/${l}/${c}/${t}`).finally(()=>{s(!1)});return e.status===200&&(m.one=e.data.items),e}catch(e){e.response.status===404?x.not_found_by_id():r.custom_validation((a=e.response.data.error)!=null?a:e.response.data.message)}},update:async(t,a)=>{_.value="";const e=new FormData,{development_activity_image:n,evidence_participation_image:o,start_time:f,final_time:y,added_wizards:u,assistance_monitors:i,...g}=a;for(const[p,$]of Object.entries(g))e.append(p,$);e.append("start_time",f),e.append("final_time",y),e.append("added_wizards",JSON.stringify(u)),e.append("assistance_monitors",JSON.stringify(i)),n.file&&e.append("development_activity_image",n.file),o.file&&e.append("evidence_participation_image",o.file);try{s(!0);const p=await d.post(`/${l}/${c}/${t}?_method=PUT`,e,{"Content-Type":"multipart/form-data"}).finally(()=>{s(!1)});return p.status===200&&(r.update(),v.push({name:"parentschools.index",params:{}})),p}catch(p){r.custom_validation(p.response.data.message)}},create:async t=>{var u;_.value="";const a=new FormData,{development_activity_image:e,evidence_participation_image:n,added_wizards:o,assistance_monitors:f,...y}=t;for(const[i,g]of Object.entries(y))a.append(i,g);a.append("added_wizards",JSON.stringify(o)),a.append("assistance_monitors",JSON.stringify(f)),a.append("development_activity_image",e.file),a.append("evidence_participation_image",n.file);try{s(!0);const i=await d.post(`/${l}/${c}`,a,{"Content-Type":"multipart/form-data"}).finally(()=>{s(!1)});return i.status==200&&r.create(),i}catch(i){r.custom_validation((u=i.response.data.error)!=null?u:i.response.data.message)}},destroy:async t=>{var a;try{s(!0),(await d.delete(`/${l}/${c}/${t}`).finally(()=>{s(!1)})).status===200&&r.destroy("Escuela de Padres",t)}catch(e){r.custom_validation((a=e.response.data.error)!=null?a:e.response.data.message)}}}}export{T as p};
