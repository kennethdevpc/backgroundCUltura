import{H as m,r as D,u as _,K as i,P as o,Q as r,E as v,O as u}from"./index.c93647e1.js";import{s as Y,a as h}from"./index.37cca9d1.js";const c="api/v1",l="pedagogicals";function j(){const d=m({all:[],one:{},no_paginate:[],count_page:0}),$=_(),p=D("");return{data:d,errors:p,get:async(t,a=null)=>{var e;try{let s=Boolean(a)?`?page=${t}&${a}`:`?page=${t}`,n=await i.get(`/${c}/${l}${s}`).finally(()=>{o(!1)});n.status===200&&(d.all=n.data.items,d.count_page=n.data.count_page)}catch(s){r.custom_validation((e=s.response.data.error)!=null?e:s.response.data.message)}},getOne:async t=>{var a;try{o(!0);let e=await i.get(`/${c}/${l}/${t}`).finally(()=>{o(!1)});return e.status===200&&(d.one=e.data.items),e}catch(e){e.response.status===404?v.not_found_by_id():r.custom_validation((a=e.response.data.error)!=null?a:e.response.data.message)}},update:async(t,a)=>{var e;p.value="";try{o(!0),(await i.put(`/${c}/${l}/${t}`,a).finally(()=>{o(!1)})).status===200&&(r.update(),$.push({name:"pedagogicals.index"}))}catch(s){r.custom_validation((e=s.response.data.error)!=null?e:s.response.data.message)}},create:async t=>{var a;p.value="";try{o(!0);const e=await i.post(`/${c}/${l}`,t).finally(()=>{o(!1)});return e.status===201&&r.create(),e}catch(e){r.custom_validation((a=e.response.data.error)!=null?a:e.response.data.message)}},destroy:async t=>{var a;try{o(!0),(await i.delete(`/${c}/${l}/${t}`).finally(()=>{o(!1)})).status==200&&r.destroy("Ficha Pedag\xF3gica",t)}catch(e){r.custom_validation((a=e.response.data.error)!=null?a:e.response.data.message)}},byRangeActivityDate:(t="",a,e)=>{const[s,n,f]=u().format("YYYY-MM-DD").split("-");let y="",g="";return f<=10?(y=u(Y(u(`${s}-${n}-01`).toDate(),1)).format("YYYY-MM-DD"),g=`${s}-${n}-10`):(y=`${s}-${n}-11`,g=u(h(u(`${s}-${n}-10`).toDate(),1)).format("YYYY-MM-DD")),i.post(`/${c}/${l}/byRangeActvityDate`,{filter:t,initDate:a||y,lastDate:e||g})}}}export{j as P};
