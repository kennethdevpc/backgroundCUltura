import{H as $,r as w,u as h,P as s,K as c,Q as r,E as O}from"./index.c93647e1.js";const d="psychopedagogicallogs",l="api/v1";function j(){const u=$({all:[],one:{},no_paginate:[],count_page:0}),y=h(),m=w("");return{data:u,errors:m,get:async(t,a=null)=>{var e;try{s(!0);let n=Boolean(a)?`?page=${t}&${a}`:`?page=${t}`,i=await c.get(`/${l}/${d}${n}`).finally(()=>{s(!1)});i.status===200&&(u.all=i.data.items,u.count_page=i.data.count_page)}catch(n){r.custom_validation((e=n.response.data.error)!=null?e:n.response.data.message)}},getOne:async t=>{var a;try{s(!0);let e=await c.get(`/${l}/${d}/${t}`).finally(()=>{s(!1)});return e.status===200&&(u.one=e.data.items),e}catch(e){e.response.status===404?O.not_found_by_id():r.custom_validation((a=e.response.data.error)!=null?a:e.response.data.message)}},update:async(t,a)=>{var g;m.value="";const e=new FormData,{development_activity_image:n,evidence_participation_image:i,added_wizards:f,assistance_monitors:_,...o}=a;for(const[p,v]of Object.entries(o))e.append(p,v);e.append("added_wizards",JSON.stringify(f)),e.append("assistance_monitors",JSON.stringify(_)),n.file&&e.append("development_activity_image",n.file),i.file&&e.append("evidence_participation_image",i.file);try{s(!0),(await c.post(`/${l}/${d}/${t}`,e,{"Content-Type":"multipart/form-data"}).finally(()=>{s(!1)})).status===200&&(r.update(),y.push({name:"psychopedagogicallogs.index",params:{}}))}catch(p){r.custom_validation((g=p.response.data.error)!=null?g:p.response.data.message)}},create:async t=>{m.value="";const a=new FormData,{development_activity_image:e,evidence_participation_image:n,added_wizards:i,assistance_monitors:f,..._}=t;for(const[o,g]of Object.entries(_))a.append(o,g);a.append("added_wizards",JSON.stringify(i)),a.append("assistance_monitors",JSON.stringify(f)),a.append("development_activity_image",e.file),a.append("evidence_participation_image",n.file);try{s(!0);const o=await c.post(`/${l}/${d}`,a,{"Content-Type":"multipart/form-data"}).finally(()=>{s(!1)});return o.status===200&&o.data.success&&r.create(),o}catch(o){r.send_failed(o.response.data.message)}},destroy:async t=>{var a;try{s(!0),(await c.delete(`/${l}/${d}/${t}`).finally(()=>{s(!1)})).status===200&&(r.destroy("Bit\xE1cora",t),await y.push({name:"psychopedagogicalog.index"}))}catch(e){r.custom_validation((a=e.response.data.error)!=null?a:e.response.data.message)}}}}export{j as p};
