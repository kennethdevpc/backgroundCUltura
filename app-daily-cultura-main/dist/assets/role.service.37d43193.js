import{r as l,u as g,P as t,K as n,Q as o,E as $}from"./index.c93647e1.js";const i="roles",c="api/v1";function R(){const p=l([]),m=l([]),f=l([]),u=g(),d=l("");return{data:p,dataOne:m,permissionsRole:f,errors:d,get:async()=>{var a;try{t(!0);let s=await n.get(`/${c}/${i}`).finally(()=>{t(!1)});s.status===200&&(p.value=s.data.items)}catch(s){o.custom_validation((a=s.response.data.error)!=null?a:s.response.data.message)}},getOne:async a=>{var s;try{t(!0);let e=await n.get(`/${c}/${i}/${a}`).finally(()=>{t(!1)});if(e.status===200&&(m.value=e.data.items,e.data.items.permissions.length)){const r=e.data.items.permissions.map(y=>y.id);f.value=r}return e}catch(e){e.response.status===404?$.not_found_by_id():o.custom_validation((s=e.response.data.error)!=null?s:e.response.data.message)}},update:async(a,s)=>{var e;d.value="";try{t(!0),(await n.put(`/${c}/${i}/${a}`,s).finally(()=>{t(!1)})).status===200&&(o.update(),u.push({name:"roles.index",params:{}}))}catch(r){o.custom_validation((e=r.response.data.error)!=null?e:r.response.data.message)}},create:async(a,s)=>{var e;d.value="";try{t(!0),(await n.post(`/${c}/${i}`,a,s).finally(()=>{t(!1)})).status===200&&(o.create(),u.push({name:"roles.index"}))}catch(r){o.custom_validation((e=r.response.data.error)!=null?e:r.response.data.message)}},destroy:async a=>{var s;try{t(!0),(await n.delete(`/${c}/${i}/${a}`).finally(()=>{t(!1)})).status===200&&(o.destroy("Role",a),await u.push({name:"roles.index"}))}catch(e){o.custom_validation((s=e.response.data.error)!=null?s:e.response.data.message)}}}}export{R as r};
