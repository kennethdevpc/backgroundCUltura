import{H as _,r as v,u as $,P as s,K as p,Q as r,E as h}from"./index.c93647e1.js";const u="strengtheningSuperMonIns",l="api/v1";function A(){const d=_({all:[],one:{},no_paginate:[],count_page:0}),f=$(),m=v("");return{data:d,errors:m,get:async(a,e=null)=>{var t;try{s(!0);let i=Boolean(e)?`?page=${a}&${e}`:`?page=${a}`,c=await p.get(`/${l}/${u}${i}`).finally(()=>{s(!1)});c.status===200&&(d.all=c.data.items,d.count_page=c.data.count_page)}catch(i){r.custom_validation((t=i.response.data.error)!=null?t:i.response.data.message)}},getOne:async a=>{var e;try{s(!0);let t=await p.get(`/${l}/${u}/${a}`).finally(()=>{s(!1)});return t.status===200&&(d.one=t.data.items),t}catch(t){t.response.status===404?h.not_found_by_id():r.custom_validation((e=t.response.data.error)!=null?e:t.response.data.message)}},update:async(a,e)=>{var n;m.value="";const t=new FormData,{file_1:i,file_2:c,...g}=e;for(const[o,y]of Object.entries(g))t.append(o,y);t.append("development_activity_image",i),t.append("evidence_participation_image",c);try{s(!0);const o=await p.post(`/${l}/${u}/${a}`,t).finally(()=>{s(!1)});o.status>=200&&o.status<=300&&(r.update(),f.push({name:"strengtheningSuperMonIns.index"}))}catch(o){r.custom_validation((n=o.response.data.error)!=null?n:o.response.data.message)}},create:async a=>{var g;m.value="";const e=new FormData,{development_activity_image:t,evidence_participation_image:i,...c}=a;for(const[n,o]of Object.entries(c))e.append(n,o);e.append("development_activity_image",t),e.append("evidence_participation_image",i);try{s(!0);const n=await p.post(`/${l}/${u}`,e).finally(()=>{s(!1)});return n.status===200&&n.data.success&&r.create(),n}catch(n){r.custom_validation((g=n.response.data.error)!=null?g:n.response.data.message)}},destroy:async a=>{var e;try{s(!0),(await p.delete(`/${l}/${u}/${a}`).finally(()=>{s(!1)})).status==200&&r.destroy("Supervisi\xF3n",a)}catch(t){r.custom_validation((e=t.response.data.error)!=null?e:t.response.data.message)}},getAllByUserId:async()=>{var a;try{s(!0);let e=await p.get(`/${l}/getAllByUserLogged`).finally(()=>{s(!1)});e.status===200&&(d.all=e.data.items)}catch(e){r.custom_validation((a=e.response.data.error)!=null?a:e.response.data.message)}}}}export{A as s};
