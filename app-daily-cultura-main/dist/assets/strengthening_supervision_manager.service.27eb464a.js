import{H as v,r as $,u as h,P as s,K as l,Q as r,E as m}from"./index.c93647e1.js";const u="strengtheningSupervisionMans",c="api/v1";function A(){const p=v({all:[],one:{},allUserManager:[],no_paginate:[],count_page:0}),y=h(),f=$("");return{data:p,errors:f,get:async(a,t=null)=>{var e;try{s(!0);let o=Boolean(t)?`?page=${a}&${t}`:`?page=${a}`,i=await l.get(`/${c}/${u}${o}`).finally(()=>{s(!1)});i.status===200&&(p.all=i.data.items,p.count_page=i.data.count_page)}catch(o){r.custom_validation((e=o.response.data.error)!=null?e:o.response.data.message)}},getOne:async a=>{var t;try{s(!0);let e=await l.get(`/${c}/${u}/${a}`).finally(()=>{s(!1)});return e.status===200&&(p.one=e.data.items),e}catch(e){e.response.status===404?m.not_found_by_id():r.custom_validation((t=e.response.data.error)!=null?t:e.response.data.message)}},update:async(a,t)=>{var n;f.value="";const e=new FormData,{development_activity_image:o,evidence_participation_image:i,...g}=t;for(const[d,_]of Object.entries(g))e.append(d,_);o!=null&&e.append("development_activity_image",o.file),i!=null&&e.append("evidence_participation_image",i.file);try{s(!0),(await l.post(`/${c}/${u}/${a}`,e).finally(()=>{s(!1)})).status===200&&(r.update(),y.push({name:"strengtheningSupervisionMans.index"}))}catch(d){r.custom_validation((n=d.response.data.error)!=null?n:d.response.data.message)}},create:async a=>{var g;f.value="";const t=new FormData,{development_activity_image:e,evidence_participation_image:o,...i}=a;for(const[n,d]of Object.entries(i))t.append(n,d);t.append("development_activity_image",e.file),t.append("evidence_participation_image",o.file);try{s(!0);const n=await l.post(`/${c}/${u}`,t).finally(()=>{s(!1)});return n.status===200&&n.data.success&&r.create(),n}catch(n){r.custom_validation((g=n.response.data.error)!=null?g:n.response.data.message)}},destroy:async a=>{var t;try{s(!0),(await l.delete(`/${c}/${u}/${a}`).finally(()=>{s(!1)})).status==200&&r.destroy("Visita de supervisi\xF3n de gestor",a)}catch(e){r.custom_validation((t=e.response.data.error)!=null?t:e.response.data.message)}},getAllByUserId:async()=>{var a;try{s(!0);let t=await l.get(`/${c}/getAllByUserLogged`).finally(()=>{s(!1)});t.status===200&&(p.all=t.data.items)}catch(t){r.custom_validation((a=t.response.data.error)!=null?a:t.response.data.message)}},getProfileRoleUserNac:async a=>{var t;try{s(!0);let e=await l.get(`/${c}/${u}/getUsers/${a}`).finally(()=>{s(!1)});return e.status===200&&(p.allUserManager=e.data.items),e}catch(e){e.response.status===404?m.not_found_by_id():r.custom_validation((t=e.response.data.error)!=null?t:e.response.data.message)}},getMethodologicalInstructionUserManager:async a=>{var t;try{s(!0);let e=await l.get(`/${c}/${u}/methodologicalInstructionGestor/${a}`).finally(()=>{s(!1)});return e.status===200&&(p.allUserManager=e.data.items),e}catch(e){e.response.status===404?m.not_found_by_id():r.custom_validation((t=e.response.data.error)!=null?t:e.response.data.message)}}}}export{A as s};
